// generated by koffee 0.10.0

/*
00000000   00000000  000   000  00000000   000  000000000  00000000  00000000   
000   000  000       000 0 000  000   000  000     000     000       000   000  
0000000    0000000   000000000  0000000    000     000     0000000   0000000    
000   000  000       000   000  000   000  000     000     000       000   000  
000   000  00000000  00     00  000   000  000     000     00000000  000   000
 */
var BALANCED_PAIRS, CALL_CLOSERS, EXPRESSION_CLOSE, EXPRESSION_END, EXPRESSION_START, IMPLICIT_CALL, IMPLICIT_END, IMPLICIT_FUNC, IMPLICIT_UNSPACED_CALL, INVERSES, LINEBREAKS, Rewriter, SINGLE_CLOSERS, SINGLE_LINERS, hasFeature, k, left, len, ref, rite,
    indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; },
    slice = [].slice;

hasFeature = require('./helpers').hasFeature;

Rewriter = (function() {
    function Rewriter() {}

    Rewriter.prototype.rewrite = function(tokens1, opts) {
        this.tokens = tokens1;
        this.opts = opts;
        this.removeLeadingNewlines();
        this.shortcuts();
        this.closeOpenCalls();
        this.closeOpenIndexes();
        this.normalizeLines();
        this.tagPostfixConditionals();
        this.addImplicitBracesAndParens();
        if (hasFeature(this.opts, 'config_parameters')) {
            this.configParameters();
        }
        if (hasFeature(this.opts, 'negative_index')) {
            this.negativeIndex();
        }
        this.addLocationDataToGeneratedTokens();
        this.fixOutdentLocationData();
        return this.tokens;
    };

    Rewriter.prototype.scanTokens = function(block) {
        var i, token, tokens;
        tokens = this.tokens;
        i = 0;
        while (token = tokens[i]) {
            i += block.call(this, token, i, tokens);
        }
        return true;
    };

    Rewriter.prototype.detectEnd = function(i, condition, action) {
        var levels, ref, ref1, token, tokens;
        tokens = this.tokens;
        levels = 0;
        while (token = tokens[i]) {
            if (levels === 0 && condition.call(this, token, i)) {
                return action.call(this, token, i);
            }
            if (!token || levels < 0) {
                return action.call(this, token, i - 1);
            }
            if (ref = token[0], indexOf.call(EXPRESSION_START, ref) >= 0) {
                levels += 1;
            } else if (ref1 = token[0], indexOf.call(EXPRESSION_END, ref1) >= 0) {
                levels -= 1;
            }
            i += 1;
        }
        return i - 1;
    };

    Rewriter.prototype.removeLeadingNewlines = function() {
        var i, k, len, ref, tag;
        ref = this.tokens;
        for (i = k = 0, len = ref.length; k < len; i = ++k) {
            tag = ref[i][0];
            if (tag !== 'TERMINATOR') {
                break;
            }
        }
        if (i) {
            return this.tokens.splice(0, i);
        }
    };

    Rewriter.prototype.doesMatch = function(index, match) {
        var key, t, val;
        if (typeof match === 'string') {
            return this.tag(index) === match;
        } else if (match.constructor === Object) {
            t = this.tokens[index];
            key = Object.keys(match)[0];
            val = match[key];
            return t[0] === key && t[1] === val;
        } else {
            return false;
        }
    };

    Rewriter.prototype.check = function() {
        var e, found, index, j, k, l, len, m, ref, ref1;
        l = arguments;
        for (j = k = 0, ref = l.length; k < ref; j = k += 2) {
            index = l[j];
            if (index < 0) {
                return false;
            }
            if (l[j + 1] instanceof Array) {
                found = false;
                ref1 = l[j + 1];
                for (m = 0, len = ref1.length; m < len; m++) {
                    e = ref1[m];
                    if (this.doesMatch(index, e)) {
                        found = true;
                        break;
                    }
                }
                if (!found) {
                    return false;
                }
            } else {
                if (!this.doesMatch(index, l[j + 1])) {
                    return false;
                }
            }
        }
        return true;
    };

    Rewriter.prototype.shortcuts = function() {
        return this.scanTokens(function(token, i, tokens) {
            if (hasFeature(this.opts, 'constructor_shortcut')) {
                if (this.check(i - 1, '@', i, ':', i + 1, ['->', 'PARAM_START', 'IDENTIFIER'])) {
                    tokens[i - 1][0] = 'PROPERTY';
                    tokens[i - 1][1] = 'constructor';
                    return 1;
                }
            }
            if (hasFeature(this.opts, 'console_shortcut')) {
                if (this.check(i, [
                    {
                        IDENTIFIER: 'log'
                    }, {
                        IDENTIFIER: 'warn'
                    }, {
                        IDENTIFIER: 'error'
                    }
                ], i + 1, ['NUMBER', 'IDENTIFIER', 'STRING', 'STRING_START', 'CALL_START', '[', '(', '{', '@'])) {
                    token[0] = 'PROPERTY';
                    tokens.splice(i, 0, this.generate('IDENTIFIER', 'console'), this.generate('.', '.'));
                    return 3;
                }
            }
            if (hasFeature(this.opts, 'optional_commata')) {
                if (this.check(i, ['NUMBER', 'STRING', 'STRING_END', '}'], i + 1, ['NUMBER', 'STRING', 'STRING_START', 'IDENTIFIER', 'PROPERTY', '{', '(', '['])) {
                    tokens.splice(i + 1, 0, this.generate(',', ','));
                    return 2;
                }
            }
            return 1;
        });
    };

    Rewriter.prototype.findMatchingTokenBackwards = function(token, i, tokens) {
        var match;
        match = {
            index: -1
        };
        return match;
    };

    Rewriter.prototype.negativeIndex = function() {
        return this.scanTokens(function(token, i, tokens) {
            var ref, ref1;
            if (this.check(i - 1, 'INDEX_START', i, '-', i + 1, 'NUMBER', i + 2, 'INDEX_END')) {
                if (this.tag(i - 2) === 'IDENTIFIER') {
                    tokens.splice(i, 0, this.generate(tokens[i - 2][0], tokens[i - 2][1]), this.generate('.', '.'), this.generate('PROPERTY', 'length'));
                    return 5;
                }
                if ((ref = this.tag(i - 2)) === 'STRING' || ref === 'STRING_END' || ref === ']' || ref === ')') {
                    tokens.splice(i + 2, 0, this.generate('..', '..'), this.generate(tokens[i][0], tokens[i][1]), this.generate(tokens[i + 1][0], tokens[i + 1][1]));
                    if ((ref1 = this.tag(i - 2)) === ']' || ref1 === ')') {
                        tokens.splice(i + 6, 0, this.generate('INDEX_START', '['), this.generate('NUMBER', '0'), this.generate('INDEX_END', ']'));
                        return 7;
                    }
                    return 4;
                } else {
                    log(this.tag(i - 2));
                }
            }
            return 1;
        });
    };

    Rewriter.prototype.closeOpenCalls = function() {
        var action, condition;
        condition = function(token, i) {
            var ref;
            return ((ref = token[0]) === ')' || ref === 'CALL_END') || token[0] === 'OUTDENT' && this.tag(i - 1) === ')';
        };
        action = function(token, i) {
            return this.tokens[token[0] === 'OUTDENT' ? i - 1 : i][0] = 'CALL_END';
        };
        return this.scanTokens(function(token, i) {
            if (token[0] === 'CALL_START') {
                this.detectEnd(i + 1, condition, action);
            }
            return 1;
        });
    };

    Rewriter.prototype.closeOpenIndexes = function() {
        var action, condition;
        condition = function(token, i) {
            var ref;
            return (ref = token[0]) === ']' || ref === 'INDEX_END';
        };
        action = function(token, i) {
            return token[0] = 'INDEX_END';
        };
        return this.scanTokens(function(token, i) {
            if (token[0] === 'INDEX_START') {
                this.detectEnd(i + 1, condition, action);
            }
            return 1;
        });
    };

    Rewriter.prototype.indexOfTag = function() {
        var fuzz, i, j, k, pattern, ref, ref1;
        i = arguments[0], pattern = 2 <= arguments.length ? slice.call(arguments, 1) : [];
        fuzz = 0;
        for (j = k = 0, ref = pattern.length; 0 <= ref ? k < ref : k > ref; j = 0 <= ref ? ++k : --k) {
            while (this.tag(i + j + fuzz) === 'HERECOMMENT') {
                fuzz += 2;
            }
            if (pattern[j] == null) {
                continue;
            }
            if (typeof pattern[j] === 'string') {
                pattern[j] = [pattern[j]];
            }
            if (ref1 = this.tag(i + j + fuzz), indexOf.call(pattern[j], ref1) < 0) {
                return -1;
            }
        }
        return i + j + fuzz - 1;
    };

    Rewriter.prototype.looksObjectish = function(j) {
        var end, index;
        if (this.indexOfTag(j, '@', null, ':') > -1 || this.indexOfTag(j, null, ':') > -1) {
            return true;
        }
        index = this.indexOfTag(j, EXPRESSION_START);
        if (index > -1) {
            end = null;
            this.detectEnd(index + 1, (function(token) {
                var ref;
                return ref = token[0], indexOf.call(EXPRESSION_END, ref) >= 0;
            }), (function(token, i) {
                return end = i;
            }));
            if (this.tag(end + 1) === ':') {
                return true;
            }
        }
        return false;
    };

    Rewriter.prototype.findTagsBackwards = function(i, tags) {
        var backStack, ref, ref1, ref2, ref3, ref4, ref5;
        backStack = [];
        while (i >= 0 && (backStack.length || (ref2 = this.tag(i), indexOf.call(tags, ref2) < 0) && ((ref3 = this.tag(i), indexOf.call(EXPRESSION_START, ref3) < 0) || this.tokens[i].generated) && (ref4 = this.tag(i), indexOf.call(LINEBREAKS, ref4) < 0))) {
            if (ref = this.tag(i), indexOf.call(EXPRESSION_END, ref) >= 0) {
                backStack.push(this.tag(i));
            }
            if ((ref1 = this.tag(i), indexOf.call(EXPRESSION_START, ref1) >= 0) && backStack.length) {
                backStack.pop();
            }
            i -= 1;
        }
        return ref5 = this.tag(i), indexOf.call(tags, ref5) >= 0;
    };

    Rewriter.prototype.addImplicitBracesAndParens = function() {
        var stack, start;
        stack = [];
        start = null;
        return this.scanTokens(function(token, i, tokens) {
            var endImplicitCall, endImplicitObject, forward, inImplicit, inImplicitCall, inImplicitControl, inImplicitObject, isImplicit, isImplicitCall, isImplicitObject, k, newLine, nextTag, offset, prevTag, prevToken, ref, ref1, ref2, ref3, ref4, ref5, s, sameLine, stackIdx, stackItem, stackTag, stackTop, startIdx, startImplicitCall, startImplicitObject, startsLine, tag;
            tag = token[0];
            prevTag = (prevToken = i > 0 ? tokens[i - 1] : [])[0];
            nextTag = (i < tokens.length - 1 ? tokens[i + 1] : [])[0];
            stackTop = function() {
                return stack[stack.length - 1];
            };
            startIdx = i;
            forward = function(n) {
                return i - startIdx + n;
            };
            isImplicit = function(stackItem) {
                var ref;
                return stackItem != null ? (ref = stackItem[2]) != null ? ref.ours : void 0 : void 0;
            };
            isImplicitObject = function(stackItem) {
                return isImplicit(stackItem) && (stackItem != null ? stackItem[0] : void 0) === '{';
            };
            isImplicitCall = function(stackItem) {
                return isImplicit(stackItem) && (stackItem != null ? stackItem[0] : void 0) === '(';
            };
            inImplicit = function() {
                return isImplicit(stackTop());
            };
            inImplicitCall = function() {
                return isImplicitCall(stackTop());
            };
            inImplicitObject = function() {
                return isImplicitObject(stackTop());
            };
            inImplicitControl = function() {
                var ref;
                return inImplicit && ((ref = stackTop()) != null ? ref[0] : void 0) === 'CONTROL';
            };
            startImplicitCall = function(j) {
                var idx;
                idx = j != null ? j : i;
                stack.push([
                    '(', idx, {
                        ours: true
                    }
                ]);
                tokens.splice(idx, 0, Rewriter.generate('CALL_START', '(', ['', 'implicit function call', token[2]]));
                if (j == null) {
                    return i += 1;
                }
            };
            endImplicitCall = function() {
                stack.pop();
                tokens.splice(i, 0, Rewriter.generate('CALL_END', ')', ['', 'end of input', token[2]]));
                return i += 1;
            };
            startImplicitObject = function(j, startsLine) {
                var idx, val;
                if (startsLine == null) {
                    startsLine = true;
                }
                idx = j != null ? j : i;
                stack.push([
                    '{', idx, {
                        sameLine: true,
                        startsLine: startsLine,
                        ours: true
                    }
                ]);
                val = new String('{');
                val.generated = true;
                tokens.splice(idx, 0, Rewriter.generate('{', val, token));
                if (j == null) {
                    return i += 1;
                }
            };
            endImplicitObject = function(j) {
                j = j != null ? j : i;
                stack.pop();
                tokens.splice(j, 0, Rewriter.generate('}', '}', token));
                return i += 1;
            };
            if (inImplicitCall() && (tag === 'IF' || tag === 'TRY' || tag === 'FINALLY' || tag === 'CATCH' || tag === 'CLASS' || tag === 'SWITCH')) {
                stack.push([
                    'CONTROL', i, {
                        ours: true
                    }
                ]);
                return forward(1);
            }
            if (tag === 'INDENT' && inImplicit()) {
                if (prevTag !== '=>' && prevTag !== '->' && prevTag !== '[' && prevTag !== '(' && prevTag !== ',' && prevTag !== '{' && prevTag !== 'TRY' && prevTag !== 'ELSE' && prevTag !== '=') {
                    while (inImplicitCall()) {
                        endImplicitCall();
                    }
                }
                if (inImplicitControl()) {
                    stack.pop();
                }
                stack.push([tag, i]);
                return forward(1);
            }
            if (indexOf.call(EXPRESSION_START, tag) >= 0) {
                stack.push([tag, i]);
                return forward(1);
            }
            if (indexOf.call(EXPRESSION_END, tag) >= 0) {
                while (inImplicit()) {
                    if (inImplicitCall()) {
                        endImplicitCall();
                    } else if (inImplicitObject()) {
                        endImplicitObject();
                    } else {
                        stack.pop();
                    }
                }
                start = stack.pop();
            }
            if ((indexOf.call(IMPLICIT_FUNC, tag) >= 0 && token.spaced || tag === '?' && i > 0 && !tokens[i - 1].spaced) && (indexOf.call(IMPLICIT_CALL, nextTag) >= 0 || indexOf.call(IMPLICIT_UNSPACED_CALL, nextTag) >= 0 && !((ref = tokens[i + 1]) != null ? ref.spaced : void 0) && !((ref1 = tokens[i + 1]) != null ? ref1.newLine : void 0))) {
                if (tag === '?') {
                    tag = token[0] = 'FUNC_EXIST';
                }
                startImplicitCall(i + 1);
                return forward(2);
            }
            if (indexOf.call(IMPLICIT_FUNC, tag) >= 0 && this.indexOfTag(i + 1, 'INDENT') > -1 && this.looksObjectish(i + 2) && !this.findTagsBackwards(i, ['CLASS', 'EXTENDS', 'IF', 'CATCH', 'SWITCH', 'LEADING_WHEN', 'FOR', 'WHILE', 'UNTIL'])) {
                startImplicitCall(i + 1);
                stack.push(['INDENT', i + 2]);
                return forward(3);
            }
            if (tag === ':') {
                s = (function() {
                    var ref2;
                    switch (false) {
                        case ref2 = this.tag(i - 1), indexOf.call(EXPRESSION_END, ref2) < 0:
                            return start[1];
                        case this.tag(i - 2) !== '@':
                            return i - 2;
                        default:
                            return i - 1;
                    }
                }).call(this);
                while (this.tag(s - 2) === 'HERECOMMENT') {
                    s -= 2;
                }
                this.insideForDeclaration = nextTag === 'FOR';
                startsLine = s === 0 || (ref2 = this.tag(s - 1), indexOf.call(LINEBREAKS, ref2) >= 0) || tokens[s - 1].newLine;
                if (stackTop()) {
                    ref3 = stackTop(), stackTag = ref3[0], stackIdx = ref3[1];
                    if ((stackTag === '{' || stackTag === 'INDENT' && this.tag(stackIdx - 1) === '{') && (startsLine || this.tag(s - 1) === ',' || this.tag(s - 1) === '{')) {
                        return forward(1);
                    }
                }
                startImplicitObject(s, !!startsLine);
                return forward(2);
            }
            if (indexOf.call(LINEBREAKS, tag) >= 0) {
                for (k = stack.length - 1; k >= 0; k += -1) {
                    stackItem = stack[k];
                    if (!isImplicit(stackItem)) {
                        break;
                    }
                    if (isImplicitObject(stackItem)) {
                        stackItem[2].sameLine = false;
                    }
                }
            }
            newLine = prevTag === 'OUTDENT' || prevToken.newLine;
            if (indexOf.call(IMPLICIT_END, tag) >= 0 || indexOf.call(CALL_CLOSERS, tag) >= 0 && newLine) {
                while (inImplicit()) {
                    ref4 = stackTop(), stackTag = ref4[0], stackIdx = ref4[1], (ref5 = ref4[2], sameLine = ref5.sameLine, startsLine = ref5.startsLine);
                    if (inImplicitCall() && prevTag !== ',') {
                        endImplicitCall();
                    } else if (inImplicitObject() && !this.insideForDeclaration && sameLine && tag !== 'TERMINATOR' && prevTag !== ':') {
                        endImplicitObject();
                    } else if (inImplicitObject() && tag === 'TERMINATOR' && prevTag !== ',' && !(startsLine && this.looksObjectish(i + 1))) {
                        if (nextTag === 'HERECOMMENT') {
                            return forward(1);
                        }
                        endImplicitObject();
                    } else {
                        break;
                    }
                }
            }
            if (tag === ',' && !this.looksObjectish(i + 1) && inImplicitObject() && !this.insideForDeclaration && (nextTag !== 'TERMINATOR' || !this.looksObjectish(i + 2))) {
                offset = nextTag === 'OUTDENT' ? 1 : 0;
                while (inImplicitObject()) {
                    endImplicitObject(i + offset);
                }
            }
            return forward(1);
        });
    };

    Rewriter.prototype.configParameters = function() {
        var dictParamEnd, dictParamStart, isInside, stackCount;
        dictParamStart = 0;
        dictParamEnd = 0;
        stackCount = 0;
        isInside = function() {
            return dictParamStart && !stackCount;
        };
        return this.scanTokens(function(token, i, tokens) {
            var nextTag, prevTag, prevToken, tag, thisToken, val;
            tag = token[0];
            prevTag = (prevToken = i > 0 ? tokens[i - 1] : [])[0];
            nextTag = (i < tokens.length - 1 ? tokens[i + 1] : [])[0];
            if (tag === '{') {
                if (prevTag === 'PARAM_START') {
                    if (!dictParamStart) {
                        dictParamStart = i;
                    } else {
                        stackCount++;
                    }
                } else if (dictParamStart) {
                    stackCount++;
                }
            } else if (tag === '}') {
                if (dictParamStart) {
                    if (!stackCount) {
                        dictParamEnd = i;
                        dictParamStart = 0;
                    } else {
                        stackCount--;
                    }
                }
            } else {
                if (isInside()) {
                    if (tag === ':') {
                        if (nextTag !== 'IDENTIFIER' && nextTag !== '@') {
                            val = tokens[i - 1][1];
                            if (this.tag(i - 2) === '@') {
                                thisToken = tokens.splice(i - 2, 1)[0];
                                tokens.splice(i, 0, thisToken);
                                tokens.splice(i + 1, 0, this.generate('=', '='));
                                tokens.splice(i + 1, 0, this.generate('PROPERTY', val));
                            } else {
                                tokens.splice(i + 1, 0, this.generate('=', '='));
                                tokens.splice(i + 1, 0, this.generate('IDENTIFIER', val));
                            }
                            return 2;
                        }
                    }
                    if (tag === '=') {
                        if (nextTag === ',' || nextTag === '}') {
                            tokens.splice(i + 1, 0, this.generate('NULL', 'null'));
                            return 2;
                        }
                    }
                }
            }
            return 1;
        });
    };

    Rewriter.prototype.addLocationDataToGeneratedTokens = function() {
        return this.scanTokens(function(token, i, tokens) {
            var column, line, nextLocation, prevLocation, ref, ref1;
            if (token[2]) {
                return 1;
            }
            if (!(token.generated || token.explicit)) {
                return 1;
            }
            if (token[0] === '{' && (nextLocation = (ref = tokens[i + 1]) != null ? ref[2] : void 0)) {
                line = nextLocation.first_line, column = nextLocation.first_column;
            } else if (prevLocation = (ref1 = tokens[i - 1]) != null ? ref1[2] : void 0) {
                line = prevLocation.last_line, column = prevLocation.last_column;
            } else {
                line = column = 0;
            }
            token[2] = {
                first_line: line,
                first_column: column,
                last_line: line,
                last_column: column
            };
            return 1;
        });
    };

    Rewriter.prototype.fixOutdentLocationData = function() {
        return this.scanTokens(function(token, i, tokens) {
            var prevLocationData;
            if (!(token[0] === 'OUTDENT' || (token.generated && token[0] === 'CALL_END') || (token.generated && token[0] === '}'))) {
                return 1;
            }
            prevLocationData = tokens[i - 1][2];
            token[2] = {
                first_line: prevLocationData.last_line,
                first_column: prevLocationData.last_column,
                last_line: prevLocationData.last_line,
                last_column: prevLocationData.last_column
            };
            return 1;
        });
    };

    Rewriter.prototype.normalizeLines = function() {
        var action, condition, indent, outdent, starter;
        starter = indent = outdent = null;
        condition = function(token, i) {
            var ref, ref1, ref2, ref3;
            return token[1] !== ';' && (ref = token[0], indexOf.call(SINGLE_CLOSERS, ref) >= 0) && !(token[0] === 'TERMINATOR' && (ref1 = this.tag(i + 1), indexOf.call(EXPRESSION_CLOSE, ref1) >= 0)) && !(token[0] === 'ELSE' && starter !== 'THEN') && !(((ref2 = token[0]) === 'CATCH' || ref2 === 'FINALLY') && (starter === '->' || starter === '=>')) || (ref3 = token[0], indexOf.call(CALL_CLOSERS, ref3) >= 0) && (this.tokens[i - 1].newLine || this.tokens[i - 1][0] === 'OUTDENT');
        };
        action = function(token, i) {
            return this.tokens.splice((this.tag(i - 1) === ',' ? i - 1 : i), 0, outdent);
        };
        return this.scanTokens(function(token, i, tokens) {
            var j, k, ref, ref1, ref2, tag;
            tag = token[0];
            if (tag === 'TERMINATOR') {
                if (this.tag(i + 1) === 'ELSE' && this.tag(i - 1) !== 'OUTDENT') {
                    tokens.splice.apply(tokens, [i, 1].concat(slice.call(this.indentation())));
                    return 1;
                }
                if (ref = this.tag(i + 1), indexOf.call(EXPRESSION_CLOSE, ref) >= 0) {
                    tokens.splice(i, 1);
                    return 0;
                }
            }
            if (tag === 'CATCH') {
                for (j = k = 1; k <= 2; j = ++k) {
                    if (!((ref1 = this.tag(i + j)) === 'OUTDENT' || ref1 === 'TERMINATOR' || ref1 === 'FINALLY')) {
                        continue;
                    }
                    tokens.splice.apply(tokens, [i + j, 0].concat(slice.call(this.indentation())));
                    return 2 + j;
                }
            }
            if (indexOf.call(SINGLE_LINERS, tag) >= 0 && this.tag(i + 1) !== 'INDENT' && !(tag === 'ELSE' && this.tag(i + 1) === 'IF')) {
                starter = tag;
                ref2 = this.indentation(tokens[i]), indent = ref2[0], outdent = ref2[1];
                if (starter === 'THEN') {
                    indent.fromThen = true;
                }
                tokens.splice(i + 1, 0, indent);
                this.detectEnd(i + 2, condition, action);
                if (tag === 'THEN') {
                    tokens.splice(i, 1);
                }
                return 1;
            }
            return 1;
        });
    };

    Rewriter.prototype.tagPostfixConditionals = function() {
        var action, condition, original;
        original = null;
        condition = function(token, i) {
            var prevTag, tag;
            tag = token[0];
            prevTag = this.tokens[i - 1][0];
            return tag === 'TERMINATOR' || (tag === 'INDENT' && indexOf.call(SINGLE_LINERS, prevTag) < 0);
        };
        action = function(token, i) {
            if (token[0] !== 'INDENT' || (token.generated && !token.fromThen)) {
                return original[0] = 'POST_' + original[0];
            }
        };
        return this.scanTokens(function(token, i) {
            if (token[0] !== 'IF') {
                return 1;
            }
            original = token;
            this.detectEnd(i + 1, condition, action);
            return 1;
        });
    };

    Rewriter.prototype.indentation = function(origin) {
        var indent, outdent;
        indent = ['INDENT', 4];
        outdent = ['OUTDENT', 4];
        if (origin) {
            indent.generated = outdent.generated = true;
            indent.origin = outdent.origin = origin;
        } else {
            indent.explicit = outdent.explicit = true;
        }
        return [indent, outdent];
    };

    Rewriter.generate = function(tag, value, origin) {
        var tok;
        tok = [tag, value];
        tok.generated = true;
        if (origin) {
            tok.origin = origin;
        }
        return tok;
    };

    Rewriter.prototype.generate = Rewriter.generate;

    Rewriter.prototype.tag = function(i) {
        var ref;
        return (ref = this.tokens[i]) != null ? ref[0] : void 0;
    };

    return Rewriter;

})();

BALANCED_PAIRS = [['(', ')'], ['[', ']'], ['{', '}'], ['INDENT', 'OUTDENT'], ['CALL_START', 'CALL_END'], ['PARAM_START', 'PARAM_END'], ['INDEX_START', 'INDEX_END'], ['STRING_START', 'STRING_END'], ['REGEX_START', 'REGEX_END']];

exports.INVERSES = INVERSES = {};

exports.Rewriter = Rewriter;

EXPRESSION_START = [];

EXPRESSION_END = [];

for (k = 0, len = BALANCED_PAIRS.length; k < len; k++) {
    ref = BALANCED_PAIRS[k], left = ref[0], rite = ref[1];
    EXPRESSION_START.push(INVERSES[rite] = left);
    EXPRESSION_END.push(INVERSES[left] = rite);
}

EXPRESSION_CLOSE = ['CATCH', 'THEN', 'ELSE', 'FINALLY'].concat(EXPRESSION_END);

IMPLICIT_FUNC = ['IDENTIFIER', 'PROPERTY', 'SUPER', ')', 'CALL_END', ']', 'INDEX_END', '@', 'THIS'];

IMPLICIT_CALL = ['IDENTIFIER', 'PROPERTY', 'NUMBER', 'INFINITY', 'NAN', 'STRING', 'STRING_START', 'REGEX', 'REGEX_START', 'JS', 'NEW', 'PARAM_START', 'CLASS', 'IF', 'TRY', 'SWITCH', 'THIS', 'UNDEFINED', 'NULL', 'BOOL', 'UNARY', 'YIELD', 'UNARY_MATH', 'SUPER', 'THROW', '@', '->', '=>', '[', '(', '{', '--', '++'];

IMPLICIT_UNSPACED_CALL = ['+', '-'];

IMPLICIT_END = ['POST_IF', 'FOR', 'WHILE', 'UNTIL', 'WHEN', 'BY', 'LOOP', 'TERMINATOR'];

SINGLE_LINERS = ['ELSE', '->', '=>', 'TRY', 'FINALLY', 'THEN'];

SINGLE_CLOSERS = ['TERMINATOR', 'CATCH', 'FINALLY', 'ELSE', 'OUTDENT', 'LEADING_WHEN'];

LINEBREAKS = ['TERMINATOR', 'INDENT', 'OUTDENT'];

CALL_CLOSERS = ['.', '?.', '::', '?::'];

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmV3cml0ZXIuanMiLCJzb3VyY2VSb290IjoiLiIsInNvdXJjZXMiOlsiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUE7Ozs7Ozs7QUFBQSxJQUFBLHdQQUFBO0lBQUE7OztBQVFFLGFBQWUsT0FBQSxDQUFRLFdBQVI7O0FBVVg7Ozt1QkFRRixPQUFBLEdBQVMsU0FBQyxPQUFELEVBQVUsSUFBVjtRQUFDLElBQUMsQ0FBQSxTQUFEO1FBQVMsSUFBQyxDQUFBLE9BQUQ7UUFNZixJQUFDLENBQUEscUJBQUQsQ0FBQTtRQUVBLElBQUMsQ0FBQSxTQUFELENBQUE7UUFFQSxJQUFDLENBQUEsY0FBRCxDQUFBO1FBQ0EsSUFBQyxDQUFBLGdCQUFELENBQUE7UUFDQSxJQUFDLENBQUEsY0FBRCxDQUFBO1FBQ0EsSUFBQyxDQUFBLHNCQUFELENBQUE7UUFDQSxJQUFDLENBQUEsMEJBQUQsQ0FBQTtRQUVBLElBQXVCLFVBQUEsQ0FBVyxJQUFDLENBQUEsSUFBWixFQUFrQixtQkFBbEIsQ0FBdkI7WUFBQSxJQUFDLENBQUEsZ0JBQUQsQ0FBQSxFQUFBOztRQUNBLElBQXVCLFVBQUEsQ0FBVyxJQUFDLENBQUEsSUFBWixFQUFrQixnQkFBbEIsQ0FBdkI7WUFBQSxJQUFDLENBQUEsYUFBRCxDQUFBLEVBQUE7O1FBRUEsSUFBQyxDQUFBLGdDQUFELENBQUE7UUFDQSxJQUFDLENBQUEsc0JBQUQsQ0FBQTtlQUNBLElBQUMsQ0FBQTtJQXJCSTs7dUJBNkJULFVBQUEsR0FBWSxTQUFDLEtBQUQ7QUFFUixZQUFBO1FBQUMsU0FBVTtRQUNYLENBQUEsR0FBSTtBQUNtQyxlQUFNLEtBQUEsR0FBUSxNQUFPLENBQUEsQ0FBQSxDQUFyQjtZQUF2QyxDQUFBLElBQUssS0FBSyxDQUFDLElBQU4sQ0FBVyxJQUFYLEVBQWlCLEtBQWpCLEVBQXdCLENBQXhCLEVBQTJCLE1BQTNCO1FBQWtDO2VBQ3ZDO0lBTFE7O3VCQU9aLFNBQUEsR0FBVyxTQUFDLENBQUQsRUFBSSxTQUFKLEVBQWUs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QixFQUF1QyxNQUF2Qzs7QUFDdkIsY0FBQSxHQUFtQixDQUFDLFlBQUQsRUFBZSxPQUFmLEVBQXdCLFNBQXhCLEVBQW1DLE1BQW5DLEVBQTJDLFNBQTNDLEVBQXNELGNBQXREOztBQUduQixVQUFBLEdBQXVCLENBQUMsWUFBRCxFQUFlLFFBQWYsRUFBeUIsU0FBekI7O0FBR3ZCLFlBQUEsR0FBdUIsQ0FBQyxHQUFELEVBQU0sSUFBTixFQUFZLElBQVosRUFBa0IsS0FBbEIiLCJzb3VyY2VzQ29udGVudCI6WyIjIyNcbjAwMDAwMDAwICAgMDAwMDAwMDAgIDAwMCAgIDAwMCAgMDAwMDAwMDAgICAwMDAgIDAwMDAwMDAwMCAgMDAwMDAwMDAgIDAwMDAwMDAwICAgXG4wMDAgICAwMDAgIDAwMCAgICAgICAwMDAgMCAwMDAgIDAwMCAgIDAwMCAgMDAwICAgICAwMDAgICAgIDAwMCAgICAgICAwMDAgICAwMDAgIFxuMDAwMDAwMCAgICAwMDAwMDAwICAgMDAwMDAwMDAwICAwMDAwMDAwICAgIDAwMCAgICAgMDAwICAgICAwMDAwMDAwICAgMDAwMDAwMCAgICBcbjAwMCAgIDAwMCAgMDAwICAgICAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICAwMDAgICAgIDAwMCAgICAgMDAwICAgICAgIDAwMCAgIDAwMCAgXG4wMDAgICAwMDAgIDAwMDAwMDAwICAwMCAgICAgMDAgIDAwMCAgIDAwMCAgMDAwICAgICAwMDAgICAgIDAwMDAwMDAwICAwMDAgICAwMDAgIFxuIyMjXG5cbnsgaGFzRmVhdHVyZSB9ID0gcmVxdWlyZSAnLi9oZWxwZXJzJ1xuXG4jIFRoZSBsYW5ndWFnZSBoYXMgYSBnb29kIGRlYWwgb2Ygb3B0aW9uYWwgc3ludGF4LCBpbXBsaWNpdCBzeW50YXgsXG4jIGFuZCBzaG9ydGhhbmQgc3ludGF4LiBUaGlzIGNhbiBncmVhdGx5IGNvbXBsaWNhdGUgYSBncmFtbWFyIGFuZCBibG9hdFxuIyB0aGUgcmVzdWx0aW5nIHBhcnNlIHRhYmxlLiBJbnN0ZWFkIG9mIG1ha2luZyB0aGUgcGFyc2VyIGhhbmRsZSBpdCBhbGwsIHdlIHRha2VcbiMgYSBzZXJpZXMgb2YgcGFzc2VzIG92ZXIgdGhlIHRva2VuIHN0cmVhbSwgdXNpbmcgdGhpcyAqKlJld3JpdGVyKiogdG8gY29udmVydFxuIyBzaG9ydGhhbmQgaW50byB0aGUgdW5hbWJpZ3VvdXMgbG9uZyBmb3JtLCBhZGQgaW1wbGljaXQgaW5kZW50YXRpb24gYW5kXG4jIHBhcmVudGhlc2VzLCBhbmQgZ2VuZXJhbGx5IGNsZWFuIHRoaW5ncyB1cC5cbiMgVGhlIFJld3JpdGVyIGlzIHVzZWQgYnkgdGhlIExleGVyLCBkaXJlY3RseSBhZ2FpbnN0IGl0cyBpbnRlcm5hbCBhcnJheSBvZiB0b2tlbnMuXG5cbmNsYXNzIFJld3JpdGVyXG5cbiAgICAjIFJld3JpdGUgdGhlIHRva2VuIHN0cmVhbSBpbiBtdWx0aXBsZSBwYXNzZXMsIG9uZSBsb2dpY2FsIGZpbHRlciBhdFxuICAgICMgYSB0aW1lLiBUaGlzIGNvdWxkIGNlcnRhaW5seSBiZSBjaGFuZ2VkIGludG8gYSBzaW5nbGUgcGFzcyB0aHJvdWdoIHRoZVxuICAgICMgc3RyZWFtLCB3aXRoIGEgYmlnIG9sJyBlZmZpY2llbnQgc3dpdGNoLCBidXQgaXQncyBtdWNoIG5pY2VyIHRvIHdvcmsgd2l0aFxuICAgICMgbGlrZSB0aGlzLiBUaGUgb3JkZXIgb2YgdGhlc2UgcGFzc2VzIG1hdHRlcnMgLS0gaW5kZW50YXRpb24gbXVzdCBiZVxuICAgICMgY29ycmVjdGVkIGJlZm9yZSBpbXBsaWNpdCBwYXJlbnRoZXNlcyBjYW4gYmUgd3JhcHBlZCBhcm91bmQgYmxvY2tzIG9mIGNvZGUuXG4gICAgXG4gICAgcmV3cml0ZTogKEB0b2tlbnMsIEBvcHRzKSAtPlxuICAgICAgICBcbiAgICAgICAgIyBsb2cgJ1Jld3JpdGVyLnJld3JpdGUnLCBAb3B0c1xuICAgICAgICAjIEhlbHBmdWwgc25pcHBldCBmb3IgZGVidWdnaW5nOlxuICAgICAgICAjIGxvZyAodFswXSArICcvJyArIHRbMV0gZm9yIHQgaW4gQHRva2Vucykuam9pbiAnICdcbiAgICAgICAgICAgIFxuICAgICAgICBAcmVtb3ZlTGVhZGluZ05ld2xpbmVzKClcbiAgICAgICAgXG4gICAgICAgIEBzaG9ydGN1dHMoKSAjIGtvZmZlZVxuICAgICAgICBcbiAgICAgICAgQGNsb3NlT3BlbkNhbGxzKClcbiAgICAgICAgQGNsb3NlT3BlbkluZGV4ZXMoKVxuICAgICAgICBAbm9ybWFsaXplTGluZXMoKVxuICAgICAgICBAdGFnUG9zdGZpeENvbmRpdGlvbmFscygpXG4gICAgICAgIEBhZGRJbXBsaWNpdEJyYWNlc0FuZFBhcmVucygpXG4gICAgICAgIFxuICAgICAgICBAY29uZmlnUGFyYW1ldGVycygpIGlmIGhhc0ZlYXR1cmUgQG9wdHMsICdjb25maWdfcGFyYW1ldGVycycgIyBrb2ZmZWVcbiAgICAgICAgQG5lZ2F0aXZlSW5kZXgoKSAgICBpZiBoYXNGZWF0dXJlIEBvcHRzLCAnbmVnYXRpdmVfaW5kZXgnICAgICMga29mZmVlXG4gICAgICAgIFxuICAgICAgICBAYWRkTG9jYXRpb25EYXRhVG9HZW5lcmF0ZWRUb2tlbnMoKVxuICAgICAgICBAZml4T3V0ZGVudExvY2F0aW9uRGF0YSgpICAgXG4gICAgICAgIEB0b2tlbnNcblxuICAgICMgUmV3cml0ZSB0aGUgdG9rZW4gc3RyZWFtLCBsb29raW5nIG9uZSB0b2tlbiBhaGVhZCBhbmQgYmVoaW5kLlxuICAgICMgQWxsb3cgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgYmxvY2sgdG8gdGVsbCB1cyBob3cgbWFueSB0b2tlbnMgdG8gbW92ZVxuICAgICMgZm9yd2FyZHMgKG9yIGJhY2t3YXJkcykgaW4gdGhlIHN0cmVhbSwgdG8gbWFrZSBzdXJlIHdlIGRvbid0IG1pc3MgYW55dGhpbmdcbiAgICAjIGFzIHRva2VucyBhcmUgaW5zZXJ0ZWQgYW5kIHJlbW92ZWQsIGFuZCB0aGUgc3RyZWFtIGNoYW5nZXMgbGVuZ3RoIHVuZGVyXG4gICAgIyBvdXIgZmVldC5cbiAgICBcbiAgICBzY2FuVG9rZW5zOiAoYmxvY2spIC0+XG4gICAgICAgIFxuICAgICAgICB7dG9rZW5zfSA9IHRoaXNcbiAgICAgICAgaSA9IDBcbiAgICAgICAgaSArPSBibG9jay5jYWxsIHRoaXMsIHRva2VuLCBpLCB0b2tlbnMgd2hpbGUgdG9rZW4gPSB0b2tlbnNbaV1cbiAgICAgICAgdHJ1ZVxuXG4gICAgZGV0ZWN0RW5kOiAoaSwgY29uZGl0aW9uLCBhY3Rpb24pIC0+XG4gICAgICAgIFxuICAgICAgICB7dG9rZW5zfSA9IHRoaXNcbiAgICAgICAgbGV2ZWxzID0gMFxuICAgICAgICB3aGlsZSB0b2tlbiA9IHRva2Vuc1tpXVxuICAgICAgICAgICAgcmV0dXJuIGFjdGlvbi5jYWxsIHRoaXMsIHRva2VuLCBpIGlmIGxldmVscyBpcyAwIGFuZCBjb25kaXRpb24uY2FsbCB0aGlzLCB0b2tlbiwgaVxuICAgICAgICAgICAgcmV0dXJuIGFjdGlvbi5jYWxsIHRoaXMsIHRva2VuLCBpIC0gMSBpZiBub3QgdG9rZW4gb3IgbGV2ZWxzIDwgMFxuICAgICAgICAgICAgaWYgdG9rZW5bMF0gaW4gRVhQUkVTU0lPTl9TVEFSVFxuICAgICAgICAgICAgICAgIGxldmVscyArPSAxXG4gICAgICAgICAgICBlbHNlIGlmIHRva2VuWzBdIGluIEVYUFJFU1NJT05fRU5EXG4gICAgICAgICAgICAgICAgbGV2ZWxzIC09IDFcbiAgICAgICAgICAgIGkgKz0gMVxuICAgICAgICBpIC0gMVxuXG4gICAgIyBMZWFkaW5nIG5ld2xpbmVzIHdvdWxkIGludHJvZHVjZSBhbiBhbWJpZ3VpdHkgaW4gdGhlIGdyYW1tYXIsIHNvIHdlIGRpc3BhdGNoIHRoZW0gaGVyZS5cbiAgICBcbiAgICByZW1vdmVMZWFkaW5nTmV3bGluZXM6IC0+XG4gICAgICAgIFxuICAgICAgICBicmVhayBmb3IgW3RhZ10sIGkgaW4gQHRva2VucyB3aGVuIHRhZyAhPSAnVEVSTUlOQVRPUidcbiAgICAgICAgQHRva2Vucy5zcGxpY2UgMCwgaSBpZiBpXG4gICAgXG4gICAgZG9lc01hdGNoOiAoaW5kZXgsIG1hdGNoKSAtPlxuICAgICAgICBcbiAgICAgICAgaWYgdHlwZW9mKG1hdGNoKSA9PSAnc3RyaW5nJ1xuICAgICAgICAgICAgQHRhZyhpbmRleCkgPT0gbWF0Y2hcbiAgICAgICAgZWxzZSBpZiBtYXRjaC5jb25zdHJ1Y3RvciA9PSBPYmplY3RcbiAgICAgICAgICAgIHQgPSBAdG9rZW5zW2luZGV4XVxuICAgICAgICAgICAga2V5ID0gT2JqZWN0LmtleXMobWF0Y2gpWzBdXG4gICAgICAgICAgICB2YWwgPSBtYXRjaFtrZXldXG4gICAgICAgICAgICB0WzBdID09IGtleSBhbmQgdFsxXSA9PSB2YWxcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgZmFsc2VcbiAgICBcbiAgICAjICAwMDAwMDAwICAwMDAgICAwMDAgIDAwMDAwMDAwICAgMDAwMDAwMCAgMDAwICAgMDAwICBcbiAgICAjIDAwMCAgICAgICAwMDAgICAwMDAgIDAwMCAgICAgICAwMDAgICAgICAgMDAwICAwMDAgICBcbiAgICAjIDAwMCAgICAgICAwMDAwMDAwMDAgIDAwMDAwMDAgICAwMDAgICAgICAgMDAwMDAwMCAgICBcbiAgICAjIDAwMCAgICAgICAwMDAgICAwMDAgIDAwMCAgICAgICAwMDAgICAgICAgMDAwICAwMDAgICBcbiAgICAjICAwMDAwMDAwICAwMDAgICAwMDAgIDAwMDAwMDAwICAgMDAwMDAwMCAgMDAwICAgMDAwICBcbiAgICBcbiAgICBjaGVjazogLT4gXG4gICAgICAgICAgICAgICAgXG4gICAgICAgIGwgPSBhcmd1bWVudHNcbiAgICAgICAgZm9yIGogaW4gWzAuLi5sLmxlbmd0aF0gYnkgMlxuICAgICAgICAgICAgaW5kZXggPSBsW2pdXG4gICAgICAgICAgICByZXR1cm4gZmFsc2UgaWYgaW5kZXggPCAwXG4gICAgICAgICAgICBpZiBsW2orMV0gaW5zdGFuY2VvZiBBcnJheVxuICAgICAgICAgICAgICAgIGZvdW5kID0gZmFsc2VcbiAgICAgICAgICAgICAgICBmb3IgZSBpbiBsW2orMV1cbiAgICAgICAgICAgICAgICAgICAgaWYgQGRvZXNNYXRjaCBpbmRleCwgZVxuICAgICAgICAgICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIGlmIG5vdCBmb3VuZFxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBpZiBub3QgQGRvZXNNYXRjaCBpbmRleCwgbFtqKzFdXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB0cnVlXG4gICAgICAgIFxuICAgICMgIDAwMDAwMDAgIDAwMCAgIDAwMCAgIDAwMDAwMDAgICAwMDAwMDAwMCAgIDAwMDAwMDAwMCAgIDAwMDAwMDAgIDAwMCAgIDAwMCAgMDAwMDAwMDAwICAgMDAwMDAwMCAgXG4gICAgIyAwMDAgICAgICAgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgICAgMDAwICAgICAwMDAgICAgICAgMDAwICAgMDAwICAgICAwMDAgICAgIDAwMCAgICAgICBcbiAgICAjIDAwMDAwMDAgICAwMDAwMDAwMDAgIDAwMCAgIDAwMCAgMDAwMDAwMCAgICAgICAwMDAgICAgIDAwMCAgICAgICAwMDAgICAwMDAgICAgIDAwMCAgICAgMDAwMDAwMCAgIFxuICAgICMgICAgICAwMDAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICAwMDAgICAwMDAgICAgIDAwMCAgICAgMDAwICAgICAgIDAwMCAgIDAwMCAgICAgMDAwICAgICAgICAgIDAwMCAgXG4gICAgIyAwMDAwMDAwICAgMDAwICAgMDAwICAgMDAwMDAwMCAgIDAwMCAgIDAwMCAgICAgMDAwICAgICAgMDAwMDAwMCAgIDAwMDAwMDAgICAgICAwMDAgICAgIDAwMDAwMDAgICBcbiAgICBcbiAgICBzaG9ydGN1dHM6IC0+XG4gICAgICAgIFxuICAgICAgICBAc2NhblRva2VucyAodG9rZW4sIGksIHRva2VucykgLT5cblxuICAgICAgICAgICAgaWYgaGFzRmVhdHVyZSBAb3B0cywgJ2NvbnN0cnVjdG9yX3Nob3J0Y3V0J1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmIEBjaGVjayBpLTEsICdAJywgaSwgJzonLCBpKzEsIFsnLT4nLCAnUEFSQU1fU1RBUlQnLCAnSURFTlRJRklFUiddXG4gICAgICAgICAgICAgICAgICAgIHRva2Vuc1tpLTFdWzBdID0gJ1BST1BFUlRZJ1xuICAgICAgICAgICAgICAgICAgICB0b2tlbnNbaS0xXVsxXSA9ICdjb25zdHJ1Y3RvcidcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDFcbiAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIGhhc0ZlYXR1cmUgQG9wdHMsICdjb25zb2xlX3Nob3J0Y3V0J1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgQGNoZWNrIGksIFt7SURFTlRJRklFUjonbG9nJ30sIHtJREVOVElGSUVSOid3YXJuJ30sIHtJREVOVElGSUVSOidlcnJvcid9XSwgaSsxLCBbJ05VTUJFUicsICdJREVOVElGSUVSJywgJ1NUUklORycsICdTVFJJTkdfU1RBUlQnLCAnQ0FMTF9TVEFSVCcsICdbJywgJygnLCAneycsICdAJ11cbiAgICAgICAgICAgICAgICAgICAgdG9rZW5bMF0gPSAnUFJPUEVSVFknXG4gICAgICAgICAgICAgICAgICAgIHRva2Vucy5zcGxpY2UgaSwgMCwgQGdlbmVyYXRlKCdJREVOVElGSUVSJywgJ2NvbnNvbGUnKSwgQGdlbmVyYXRlKCcuJywgJy4nKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gM1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIGhhc0ZlYXR1cmUgQG9wdHMsICdvcHRpb25hbF9jb21tYXRhJ1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmIEBjaGVjayBpLCBbJ05VTUJFUicsICdTVFJJTkcnLCAnU1RSSU5HX0VORCcsICd9J10sIGkrMSwgWydOVU1CRVInLCAnU1RSSU5HJywgJ1NUUklOR19TVEFSVCcsICdJREVOVElGSUVSJywgJ1BST1BFUlRZJywgJ3snLCAnKCcsICdbJ10gIFxuICAgICAgICAgICAgICAgICAgICB0b2tlbnMuc3BsaWNlIGkrMSwgMCwgQGdlbmVyYXRlICcsJywgJywnXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAyXG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICMgaWYgQHRhZyhpKSBpbiBbJ10nLCAnKSddIGFuZCB0b2tlbnNbaV0uc3BhY2VkIGFuZCBAdGFnKGkrMSkgaW4gWydOVU1CRVInLCAnU1RSSU5HJywgJ1NUUklOR19TVEFSVCcsICdJREVOVElGSUVSJywgJ1BST1BFUlRZJywgJ3snLCAnKCcsICdbJ10gIFxuICAgICAgICAgICAgICAgICAgICAjIHRva2Vuc1tpXS5vcHRpb25hbF9jb21tYXRhID0gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAxXG5cbiAgICBmaW5kTWF0Y2hpbmdUb2tlbkJhY2t3YXJkczogKHRva2VuLCBpLCB0b2tlbnMpIC0+IFxuICAgICAgICBcbiAgICAgICAgbWF0Y2ggPSBpbmRleDotMVxuICAgICAgICBtYXRjaFxuICAgIFxuICAgIG5lZ2F0aXZlSW5kZXg6IC0+XG5cbiAgICAgICAgQHNjYW5Ub2tlbnMgKHRva2VuLCBpLCB0b2tlbnMpIC0+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIEBjaGVjayBpLTEsICdJTkRFWF9TVEFSVCcsIGksICctJywgaSsxLCAnTlVNQkVSJywgaSsyLCAnSU5ERVhfRU5EJ1xuICAgICAgICAgICAgICAgIGlmIEB0YWcoaS0yKSA9PSAnSURFTlRJRklFUidcbiAgICAgICAgICAgICAgICAgICAgdG9rZW5zLnNwbGljZSBpLCAwLCBAZ2VuZXJhdGUodG9rZW5zW2ktMl1bMF0sIHRva2Vuc1tpLTJdWzFdKSwgQGdlbmVyYXRlKCcuJywgJy4nKSwgQGdlbmVyYXRlKCdQUk9QRVJUWScsICdsZW5ndGgnKSAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiA1XG4gICAgICAgICAgICAgICAgaWYgQHRhZyhpLTIpIGluIFsnU1RSSU5HJywgJ1NUUklOR19FTkQnLCAnXScsICcpJ11cbiAgICAgICAgICAgICAgICAgICAgdG9rZW5zLnNwbGljZSBpKzIsIDAsIEBnZW5lcmF0ZSgnLi4nLCAnLi4nKSwgQGdlbmVyYXRlKHRva2Vuc1tpXVswXSwgdG9rZW5zW2ldWzFdKSwgQGdlbmVyYXRlKHRva2Vuc1tpKzFdWzBdLCB0b2tlbnNbaSsxXVsxXSlcbiAgICAgICAgICAgICAgICAgICAgaWYgQHRhZyhpLTIpIGluIFsnXScsICcpJ11cbiAgICAgICAgICAgICAgICAgICAgICAgIHRva2Vucy5zcGxpY2UgaSs2LCAwLCBAZ2VuZXJhdGUoJ0lOREVYX1NUQVJUJywgJ1snKSwgQGdlbmVyYXRlKCdOVU1CRVInLCAnMCcpLCBAZ2VuZXJhdGUoJ0lOREVYX0VORCcsICddJylcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiA3XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiA0XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICBsb2cgQHRhZyhpLTIpXG4gICAgICAgICAgICAxXG4gICAgICAgIFxuICAgICMgVGhlIGxleGVyIGhhcyB0YWdnZWQgdGhlIG9wZW5pbmcgcGFyZW50aGVzaXMgb2YgYSBtZXRob2QgY2FsbC4gTWF0Y2ggaXQgd2l0aFxuICAgICMgaXRzIHBhaXJlZCBjbG9zZS4gV2UgaGF2ZSB0aGUgbWlzLW5lc3RlZCBvdXRkZW50IGNhc2UgaW5jbHVkZWQgaGVyZSBmb3JcbiAgICAjIGNhbGxzIHRoYXQgY2xvc2Ugb24gdGhlIHNhbWUgbGluZSwganVzdCBiZWZvcmUgdGhlaXIgb3V0ZGVudC5cbiAgICBcbiAgICBjbG9zZU9wZW5DYWxsczogLT5cbiAgICAgICAgXG4gICAgICAgIGNvbmRpdGlvbiA9ICh0b2tlbiwgaSkgLT5cbiAgICAgICAgICAgIHRva2VuWzBdIGluIFsnKScsICdDQUxMX0VORCddIG9yXG4gICAgICAgICAgICB0b2tlblswXSBpcyAnT1VUREVOVCcgYW5kIEB0YWcoaSAtIDEpIGlzICcpJ1xuXG4gICAgICAgIGFjdGlvbiA9ICh0b2tlbiwgaSkgLT5cbiAgICAgICAgICAgIEB0b2tlbnNbaWYgdG9rZW5bMF0gaXMgJ09VVERFTlQnIHRoZW4gaSAtIDEgZWxzZSBpXVswXSA9ICdDQUxMX0VORCdcblxuICAgICAgICBAc2NhblRva2VucyAodG9rZW4sIGkpIC0+XG4gICAgICAgICAgICBAZGV0ZWN0RW5kIGkgKyAxLCBjb25kaXRpb24sIGFjdGlvbiBpZiB0b2tlblswXSBpcyAnQ0FMTF9TVEFSVCdcbiAgICAgICAgICAgIDFcblxuICAgICMgVGhlIGxleGVyIGhhcyB0YWdnZWQgdGhlIG9wZW5pbmcgcGFyZW50aGVzaXMgb2YgYW4gaW5kZXhpbmcgb3BlcmF0aW9uIGNhbGwuXG4gICAgIyBNYXRjaCBpdCB3aXRoIGl0cyBwYWlyZWQgY2xvc2UuXG4gICAgXG4gICAgY2xvc2VPcGVuSW5kZXhlczogLT5cbiAgICAgICAgXG4gICAgICAgIGNvbmRpdGlvbiA9ICh0b2tlbiwgaSkgLT5cbiAgICAgICAgICAgIHRva2VuWzBdIGluIFsnXScsICdJTkRFWF9FTkQnXVxuXG4gICAgICAgIGFjdGlvbiA9ICh0b2tlbiwgaSkgLT5cbiAgICAgICAgICAgIHRva2VuWzBdID0gJ0lOREVYX0VORCdcblxuICAgICAgICBAc2NhblRva2VucyAodG9rZW4sIGkpIC0+XG4gICAgICAgICAgICBAZGV0ZWN0RW5kIGkgKyAxLCBjb25kaXRpb24sIGFjdGlvbiBpZiB0b2tlblswXSBpcyAnSU5ERVhfU1RBUlQnXG4gICAgICAgICAgICAxXG5cbiAgICAjIE1hdGNoIHRhZ3MgaW4gdG9rZW4gc3RyZWFtIHN0YXJ0aW5nIGF0IGBpYCB3aXRoIGBwYXR0ZXJuYCwgc2tpcHBpbmcgJ0hFUkVDT01NRU5UJ3MuXG4gICAgIyBgcGF0dGVybmAgbWF5IGNvbnNpc3Qgb2Ygc3RyaW5ncyAoZXF1YWxpdHkpLCBhbiBhcnJheSBvZiBzdHJpbmdzIChvbmUgb2YpXG4gICAgIyBvciBudWxsICh3aWxkY2FyZCkuIFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaCBvciAtMSBpZiBubyBtYXRjaC5cbiAgICBcbiAgICBpbmRleE9mVGFnOiAoaSwgcGF0dGVybi4uLikgLT5cbiAgICAgICAgZnV6eiA9IDBcbiAgICAgICAgZm9yIGogaW4gWzAgLi4uIHBhdHRlcm4ubGVuZ3RoXVxuICAgICAgICAgICAgZnV6eiArPSAyIHdoaWxlIEB0YWcoaSArIGogKyBmdXp6KSBpcyAnSEVSRUNPTU1FTlQnXG4gICAgICAgICAgICBjb250aW51ZSBpZiBub3QgcGF0dGVybltqXT9cbiAgICAgICAgICAgIHBhdHRlcm5bal0gPSBbcGF0dGVybltqXV0gaWYgdHlwZW9mIHBhdHRlcm5bal0gaXMgJ3N0cmluZydcbiAgICAgICAgICAgIHJldHVybiAtMSBpZiBAdGFnKGkgKyBqICsgZnV6eikgbm90IGluIHBhdHRlcm5bal1cbiAgICAgICAgaSArIGogKyBmdXp6IC0gMVxuXG4gICAgIyBgQDx4PjpgLCBgPHg+OmAgb3IgYDxFWFBSRVNTSU9OX1NUQVJUPjx4Pi4uLjxFWFBSRVNTSU9OX0VORD46YCwgc2tpcHBpbmcgb3ZlciAnSEVSRUNPTU1FTlQncy5cbiAgICBcbiAgICBsb29rc09iamVjdGlzaDogKGopIC0+XG4gICAgICAgIFxuICAgICAgICByZXR1cm4geWVzIGlmIEBpbmRleE9mVGFnKGosICdAJywgbnVsbCwgJzonKSA+IC0xIG9yIEBpbmRleE9mVGFnKGosIG51bGwsICc6JykgPiAtMVxuICAgICAgICBcbiAgICAgICAgaW5kZXggPSBAaW5kZXhPZlRhZyhqLCBFWFBSRVNTSU9OX1NUQVJUKVxuICAgICAgICBpZiBpbmRleCA+IC0xXG4gICAgICAgICAgICBlbmQgPSBudWxsXG4gICAgICAgICAgICBAZGV0ZWN0RW5kIGluZGV4ICsgMSwgKCh0b2tlbikgLT4gdG9rZW5bMF0gaW4gRVhQUkVTU0lPTl9FTkQpLCAoKHRva2VuLCBpKSAtPiBlbmQgPSBpKVxuICAgICAgICAgICAgcmV0dXJuIHllcyBpZiBAdGFnKGVuZCArIDEpIGlzICc6J1xuICAgICAgICBub1xuXG4gICAgIyBSZXR1cm5zIGB5ZXNgIGlmIGN1cnJlbnQgbGluZSBvZiB0b2tlbnMgY29udGFpbiBhbiBlbGVtZW50IG9mIHRhZ3Mgb24gc2FtZSBleHByZXNzaW9uIGxldmVsLiBcbiAgICAjIFN0b3Agc2VhcmNoaW5nIGF0IExJTkVCUkVBS1Mgb3IgZXhwbGljaXQgc3RhcnQgb2YgY29udGFpbmluZyBiYWxhbmNlZCBleHByZXNzaW9uLlxuICAgIFxuICAgIGZpbmRUYWdzQmFja3dhcmRzOiAoaSwgdGFncykgLT5cbiAgICAgICAgYmFja1N0YWNrID0gW11cbiAgICAgICAgd2hpbGUgaSA+PSAwIGFuZCAoYmFja1N0YWNrLmxlbmd0aCBvclxuICAgICAgICAgICAgICAgICAgICBAdGFnKGkpIG5vdCBpbiB0YWdzIGFuZFxuICAgICAgICAgICAgICAgICAgICAoQHRhZyhpKSBub3QgaW4gRVhQUkVTU0lPTl9TVEFSVCBvciBAdG9rZW5zW2ldLmdlbmVyYXRlZCkgYW5kXG4gICAgICAgICAgICAgICAgICAgIEB0YWcoaSkgbm90IGluIExJTkVCUkVBS1MpXG4gICAgICAgICAgICBiYWNrU3RhY2sucHVzaCBAdGFnKGkpIGlmIEB0YWcoaSkgaW4gRVhQUkVTU0lPTl9FTkRcbiAgICAgICAgICAgIGJhY2tTdGFjay5wb3AoKSBpZiBAdGFnKGkpIGluIEVYUFJFU1NJT05fU1RBUlQgYW5kIGJhY2tTdGFjay5sZW5ndGhcbiAgICAgICAgICAgIGkgLT0gMVxuICAgICAgICBAdGFnKGkpIGluIHRhZ3NcblxuICAgICMgMDAwICAwMCAgICAgMDAgIDAwMDAwMDAwICAgMDAwICAgICAgMDAwICAgMDAwMDAwMCAgMDAwICAwMDAwMDAwMDAgIFxuICAgICMgMDAwICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwICAgICAgMDAwICAwMDAgICAgICAgMDAwICAgICAwMDAgICAgIFxuICAgICMgMDAwICAwMDAwMDAwMDAgIDAwMDAwMDAwICAgMDAwICAgICAgMDAwICAwMDAgICAgICAgMDAwICAgICAwMDAgICAgIFxuICAgICMgMDAwICAwMDAgMCAwMDAgIDAwMCAgICAgICAgMDAwICAgICAgMDAwICAwMDAgICAgICAgMDAwICAgICAwMDAgICAgIFxuICAgICMgMDAwICAwMDAgICAwMDAgIDAwMCAgICAgICAgMDAwMDAwMCAgMDAwICAgMDAwMDAwMCAgMDAwICAgICAwMDAgICAgIFxuICAgIFxuICAgICMgTG9vayBmb3Igc2lnbnMgb2YgaW1wbGljaXQgY2FsbHMgYW5kIG9iamVjdHMgaW4gdGhlIHRva2VuIHN0cmVhbSBhbmQgYWRkIHRoZW0uXG4gICAgICAgIFxuICAgIGFkZEltcGxpY2l0QnJhY2VzQW5kUGFyZW5zOiAtPlxuXG4gICAgICAgICMgVHJhY2sgY3VycmVudCBiYWxhbmNpbmcgZGVwdGggKGJvdGggaW1wbGljaXQgYW5kIGV4cGxpY2l0KSBvbiBzdGFjay5cbiAgICAgICAgc3RhY2sgPSBbXVxuICAgICAgICBzdGFydCA9IG51bGxcblxuICAgICAgICBAc2NhblRva2VucyAodG9rZW4sIGksIHRva2VucykgLT5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgW3RhZ10gICAgID0gdG9rZW5cbiAgICAgICAgICAgIFtwcmV2VGFnXSA9IHByZXZUb2tlbiA9IGlmIGkgPiAwIHRoZW4gdG9rZW5zW2kgLSAxXSBlbHNlIFtdXG4gICAgICAgICAgICBbbmV4dFRhZ10gPSBpZiBpIDwgdG9rZW5zLmxlbmd0aCAtIDEgdGhlbiB0b2tlbnNbaSArIDFdIGVsc2UgW11cbiAgICAgICAgICAgIHN0YWNrVG9wICA9IC0+IHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdXG4gICAgICAgICAgICBzdGFydElkeCAgPSBpXG5cbiAgICAgICAgICAgICMgSGVscGVyIGZ1bmN0aW9uLCB1c2VkIGZvciBrZWVwaW5nIHRyYWNrIG9mIHRoZSBudW1iZXIgb2YgdG9rZW5zIGNvbnN1bWVkXG4gICAgICAgICAgICAjIGFuZCBzcGxpY2VkLCB3aGVuIHJldHVybmluZyBmb3IgZ2V0dGluZyBhIG5ldyB0b2tlbi5cbiAgICAgICAgICAgIGZvcndhcmQgICA9IChuKSAtPiBpIC0gc3RhcnRJZHggKyBuXG5cbiAgICAgICAgICAgICMgSGVscGVyIGZ1bmN0aW9uc1xuICAgICAgICAgICAgaXNJbXBsaWNpdCAgICAgICAgICA9IChzdGFja0l0ZW0pIC0+IHN0YWNrSXRlbT9bMl0/Lm91cnNcbiAgICAgICAgICAgIGlzSW1wbGljaXRPYmplY3QgICAgPSAoc3RhY2tJdGVtKSAtPiBpc0ltcGxpY2l0KHN0YWNrSXRlbSkgYW5kIHN0YWNrSXRlbT9bMF0gaXMgJ3snXG4gICAgICAgICAgICBpc0ltcGxpY2l0Q2FsbCAgICAgID0gKHN0YWNrSXRlbSkgLT4gaXNJbXBsaWNpdChzdGFja0l0ZW0pIGFuZCBzdGFja0l0ZW0/WzBdIGlzICcoJ1xuICAgICAgICAgICAgaW5JbXBsaWNpdCAgICAgICAgICA9IC0+IGlzSW1wbGljaXQgc3RhY2tUb3AoKVxuICAgICAgICAgICAgaW5JbXBsaWNpdENhbGwgICAgICA9IC0+IGlzSW1wbGljaXRDYWxsIHN0YWNrVG9wKClcbiAgICAgICAgICAgIGluSW1wbGljaXRPYmplY3QgICAgPSAtPiBpc0ltcGxpY2l0T2JqZWN0IHN0YWNrVG9wKClcbiAgICAgICAgICAgICMgVW5jbG9zZWQgY29udHJvbCBzdGF0ZW1lbnQgaW5zaWRlIGltcGxpY2l0IHBhcmVucyAobGlrZVxuICAgICAgICAgICAgIyBjbGFzcyBkZWNsYXJhdGlvbiBvciBpZi1jb25kaXRpb25hbHMpXG4gICAgICAgICAgICBpbkltcGxpY2l0Q29udHJvbCA9IC0+IGluSW1wbGljaXQgYW5kIHN0YWNrVG9wKCk/WzBdIGlzICdDT05UUk9MJ1xuXG4gICAgICAgICAgICBzdGFydEltcGxpY2l0Q2FsbCA9IChqKSAtPlxuICAgICAgICAgICAgICAgIGlkeCA9IGogPyBpXG4gICAgICAgICAgICAgICAgc3RhY2sucHVzaCBbJygnLCBpZHgsIG91cnM6IHllc11cbiAgICAgICAgICAgICAgICB0b2tlbnMuc3BsaWNlIGlkeCwgMCwgUmV3cml0ZXIuZ2VuZXJhdGUgJ0NBTExfU1RBUlQnLCAnKCcsIFsnJywgJ2ltcGxpY2l0IGZ1bmN0aW9uIGNhbGwnLCB0b2tlblsyXV1cbiAgICAgICAgICAgICAgICBpICs9IDEgaWYgbm90IGo/XG5cbiAgICAgICAgICAgIGVuZEltcGxpY2l0Q2FsbCA9IC0+XG4gICAgICAgICAgICAgICAgc3RhY2sucG9wKClcbiAgICAgICAgICAgICAgICB0b2tlbnMuc3BsaWNlIGksIDAsIFJld3JpdGVyLmdlbmVyYXRlICdDQUxMX0VORCcsICcpJywgWycnLCAnZW5kIG9mIGlucHV0JywgdG9rZW5bMl1dXG4gICAgICAgICAgICAgICAgaSArPSAxXG5cbiAgICAgICAgICAgIHN0YXJ0SW1wbGljaXRPYmplY3QgPSAoaiwgc3RhcnRzTGluZSA9IHllcykgLT5cbiAgICAgICAgICAgICAgICBpZHggPSBqID8gaVxuICAgICAgICAgICAgICAgIHN0YWNrLnB1c2ggWyd7JywgaWR4LCBzYW1lTGluZTogeWVzLCBzdGFydHNMaW5lOiBzdGFydHNMaW5lLCBvdXJzOiB5ZXNdXG4gICAgICAgICAgICAgICAgdmFsID0gbmV3IFN0cmluZyAneydcbiAgICAgICAgICAgICAgICB2YWwuZ2VuZXJhdGVkID0geWVzXG4gICAgICAgICAgICAgICAgdG9rZW5zLnNwbGljZSBpZHgsIDAsIFJld3JpdGVyLmdlbmVyYXRlICd7JywgdmFsLCB0b2tlblxuICAgICAgICAgICAgICAgIGkgKz0gMSBpZiBub3Qgaj9cblxuICAgICAgICAgICAgZW5kSW1wbGljaXRPYmplY3QgPSAoaikgLT5cbiAgICAgICAgICAgICAgICBqID0gaiA/IGlcbiAgICAgICAgICAgICAgICBzdGFjay5wb3AoKVxuICAgICAgICAgICAgICAgIHRva2Vucy5zcGxpY2UgaiwgMCwgUmV3cml0ZXIuZ2VuZXJhdGUgJ30nLCAnfScsIHRva2VuXG4gICAgICAgICAgICAgICAgaSArPSAxXG5cbiAgICAgICAgICAgICMgRG9uJ3QgZW5kIGFuIGltcGxpY2l0IGNhbGwgb24gbmV4dCBpbmRlbnQgaWYgYW55IG9mIHRoZXNlIGFyZSBpbiBhbiBhcmd1bWVudFxuICAgICAgICAgICAgaWYgaW5JbXBsaWNpdENhbGwoKSBhbmQgdGFnIGluIFsnSUYnLCAnVFJZJywgJ0ZJTkFMTFknLCAnQ0FUQ0gnLFxuICAgICAgICAgICAgICAgICdDTEFTUycsICdTV0lUQ0gnXVxuICAgICAgICAgICAgICAgIHN0YWNrLnB1c2ggWydDT05UUk9MJywgaSwgb3VyczogeWVzXVxuICAgICAgICAgICAgICAgIHJldHVybiBmb3J3YXJkKDEpXG5cbiAgICAgICAgICAgIGlmIHRhZyBpcyAnSU5ERU5UJyBhbmQgaW5JbXBsaWNpdCgpXG5cbiAgICAgICAgICAgICAgICAjIEFuIGBJTkRFTlRgIGNsb3NlcyBhbiBpbXBsaWNpdCBjYWxsIHVubGVzc1xuICAgICAgICAgICAgICAgICNcbiAgICAgICAgICAgICAgICAjICAgIDEuIFdlIGhhdmUgc2VlbiBhIGBDT05UUk9MYCBhcmd1bWVudCBvbiB0aGUgbGluZS5cbiAgICAgICAgICAgICAgICAjICAgIDIuIFRoZSBsYXN0IHRva2VuIGJlZm9yZSB0aGUgaW5kZW50IGlzIHBhcnQgb2YgdGhlIGxpc3QgYmVsb3dcbiAgICAgICAgICAgICAgICAjXG4gICAgICAgICAgICAgICAgaWYgcHJldlRhZyBub3QgaW4gWyc9PicsICctPicsICdbJywgJygnLCAnLCcsICd7JywgJ1RSWScsICdFTFNFJywgJz0nXVxuICAgICAgICAgICAgICAgICAgICBlbmRJbXBsaWNpdENhbGwoKSB3aGlsZSBpbkltcGxpY2l0Q2FsbCgpXG4gICAgICAgICAgICAgICAgc3RhY2sucG9wKCkgaWYgaW5JbXBsaWNpdENvbnRyb2woKVxuICAgICAgICAgICAgICAgIHN0YWNrLnB1c2ggW3RhZywgaV1cbiAgICAgICAgICAgICAgICByZXR1cm4gZm9yd2FyZCgxKVxuXG4gICAgICAgICAgICAjIFN0cmFpZ2h0Zm9yd2FyZCBzdGFydCBvZiBleHBsaWNpdCBleHByZXNzaW9uXG4gICAgICAgICAgICBpZiB0YWcgaW4gRVhQUkVTU0lPTl9TVEFSVFxuICAgICAgICAgICAgICAgIHN0YWNrLnB1c2ggW3RhZywgaV1cbiAgICAgICAgICAgICAgICByZXR1cm4gZm9yd2FyZCgxKVxuXG4gICAgICAgICAgICAjIENsb3NlIGFsbCBpbXBsaWNpdCBleHByZXNzaW9ucyBpbnNpZGUgb2YgZXhwbGljaXRseSBjbG9zZWQgZXhwcmVzc2lvbnMuXG4gICAgICAgICAgICBpZiB0YWcgaW4gRVhQUkVTU0lPTl9FTkRcbiAgICAgICAgICAgICAgICB3aGlsZSBpbkltcGxpY2l0KClcbiAgICAgICAgICAgICAgICAgICAgaWYgaW5JbXBsaWNpdENhbGwoKVxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kSW1wbGljaXRDYWxsKClcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiBpbkltcGxpY2l0T2JqZWN0KClcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZEltcGxpY2l0T2JqZWN0KClcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2sucG9wKClcbiAgICAgICAgICAgICAgICBzdGFydCA9IHN0YWNrLnBvcCgpXG5cbiAgICAgICAgICAgICMgUmVjb2duaXplIHN0YW5kYXJkIGltcGxpY2l0IGNhbGxzIGxpa2VcbiAgICAgICAgICAgICMgZiBhLCBmKCkgYiwgZj8gYywgaFswXSBkIGV0Yy5cbiAgICAgICAgICAgIGlmICh0YWcgaW4gSU1QTElDSVRfRlVOQyBhbmQgdG9rZW4uc3BhY2VkIG9yXG4gICAgICAgICAgICAgICAgICAgIHRhZyBpcyAnPycgYW5kIGkgPiAwIGFuZCBub3QgdG9rZW5zW2kgLSAxXS5zcGFjZWQpIGFuZFxuICAgICAgICAgICAgICAgICAobmV4dFRhZyBpbiBJTVBMSUNJVF9DQUxMIG9yXG4gICAgICAgICAgICAgICAgICAgIG5leHRUYWcgaW4gSU1QTElDSVRfVU5TUEFDRURfQ0FMTCBhbmRcbiAgICAgICAgICAgICAgICAgICAgbm90IHRva2Vuc1tpICsgMV0/LnNwYWNlZCBhbmQgbm90IHRva2Vuc1tpICsgMV0/Lm5ld0xpbmUpXG4gICAgICAgICAgICAgICAgdGFnID0gdG9rZW5bMF0gPSAnRlVOQ19FWElTVCcgaWYgdGFnIGlzICc/J1xuICAgICAgICAgICAgICAgIHN0YXJ0SW1wbGljaXRDYWxsIGkgKyAxXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZvcndhcmQoMilcblxuICAgICAgICAgICAgIyBJbXBsaWNpdCBjYWxsIHRha2luZyBhbiBpbXBsaWNpdCBpbmRlbnRlZCBvYmplY3QgYXMgZmlyc3QgYXJndW1lbnQuXG4gICAgICAgICAgICAjXG4gICAgICAgICAgICAjICAgICAgICAgICBmXG4gICAgICAgICAgICAjICAgICAgICAgICAgICAgYTogYlxuICAgICAgICAgICAgIyAgICAgICAgICAgICAgIGM6IGRcbiAgICAgICAgICAgICNcbiAgICAgICAgICAgICMgYW5kXG4gICAgICAgICAgICAjXG4gICAgICAgICAgICAjICAgICAgICAgICBmXG4gICAgICAgICAgICAjICAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgIyAgICAgICAgICAgICAgIGE6IGJcbiAgICAgICAgICAgICMgICAgICAgICAgICAgICBiOiBjXG4gICAgICAgICAgICAjXG4gICAgICAgICAgICAjIERvbid0IGFjY2VwdCBpbXBsaWNpdCBjYWxscyBvZiB0aGlzIHR5cGUsIHdoZW4gb24gdGhlIHNhbWUgbGluZVxuICAgICAgICAgICAgIyBhcyB0aGUgY29udHJvbCBzdHJ1Y3R1cmVzIGJlbG93IGFzIHRoYXQgbWF5IG1pc2ludGVycHJldCBjb25zdHJ1Y3RzIGxpa2U6XG4gICAgICAgICAgICAjXG4gICAgICAgICAgICAjICAgICAgICAgICBpZiBmXG4gICAgICAgICAgICAjICAgICAgICAgICAgICAgIGE6IDFcbiAgICAgICAgICAgICMgYXNcbiAgICAgICAgICAgICNcbiAgICAgICAgICAgICMgICAgICAgICAgIGlmIGYoYTogMSlcbiAgICAgICAgICAgICNcbiAgICAgICAgICAgICMgd2hpY2ggaXMgcHJvYmFibHkgYWx3YXlzIHVuaW50ZW5kZWQuXG4gICAgICAgICAgICAjIEZ1cnRoZXJtb3JlIGRvbid0IGFsbG93IHRoaXMgaW4gbGl0ZXJhbCBhcnJheXMsIGFzIHRoYXQgY3JlYXRlcyBncmFtbWF0aWNhbCBhbWJpZ3VpdGllcy5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgdGFnIGluIElNUExJQ0lUX0ZVTkMgYW5kXG4gICAgICAgICAgICAgICAgIEBpbmRleE9mVGFnKGkgKyAxLCAnSU5ERU5UJykgPiAtMSBhbmQgQGxvb2tzT2JqZWN0aXNoKGkgKyAyKSBhbmRcbiAgICAgICAgICAgICAgICAgbm90IEBmaW5kVGFnc0JhY2t3YXJkcyhpLCBbJ0NMQVNTJywgJ0VYVEVORFMnLCAnSUYnLCAnQ0FUQ0gnLFxuICAgICAgICAgICAgICAgICAgICAnU1dJVENIJywgJ0xFQURJTkdfV0hFTicsICdGT1InLCAnV0hJTEUnLCAnVU5USUwnXSlcbiAgICAgICAgICAgICAgICBzdGFydEltcGxpY2l0Q2FsbCBpICsgMVxuICAgICAgICAgICAgICAgIHN0YWNrLnB1c2ggWydJTkRFTlQnLCBpICsgMl1cbiAgICAgICAgICAgICAgICByZXR1cm4gZm9yd2FyZCgzKVxuXG4gICAgICAgICAgICAjIEltcGxpY2l0IG9iamVjdHMgc3RhcnQgaGVyZVxuICAgICAgICAgICAgaWYgdGFnIGlzICc6J1xuICAgICAgICAgICAgICAgICMgR28gYmFjayB0byB0aGUgKGltcGxpY2l0KSBzdGFydCBvZiB0aGUgb2JqZWN0XG4gICAgICAgICAgICAgICAgcyA9IHN3aXRjaFxuICAgICAgICAgICAgICAgICAgICB3aGVuIEB0YWcoaSAtIDEpIGluIEVYUFJFU1NJT05fRU5EIHRoZW4gc3RhcnRbMV1cbiAgICAgICAgICAgICAgICAgICAgd2hlbiBAdGFnKGkgLSAyKSBpcyAnQCcgdGhlbiBpIC0gMlxuICAgICAgICAgICAgICAgICAgICBlbHNlIGkgLSAxXG4gICAgICAgICAgICAgICAgcyAtPSAyIHdoaWxlIEB0YWcocyAtIDIpIGlzICdIRVJFQ09NTUVOVCdcblxuICAgICAgICAgICAgICAgICMgTWFyayBpZiB0aGUgdmFsdWUgaXMgYSBmb3IgbG9vcFxuICAgICAgICAgICAgICAgIEBpbnNpZGVGb3JEZWNsYXJhdGlvbiA9IG5leHRUYWcgaXMgJ0ZPUidcblxuICAgICAgICAgICAgICAgIHN0YXJ0c0xpbmUgPSBzIGlzIDAgb3IgQHRhZyhzIC0gMSkgaW4gTElORUJSRUFLUyBvciB0b2tlbnNbcyAtIDFdLm5ld0xpbmVcbiAgICAgICAgICAgICAgICAjIEFyZSB3ZSBqdXN0IGNvbnRpbnVpbmcgYW4gYWxyZWFkeSBkZWNsYXJlZCBvYmplY3Q/XG4gICAgICAgICAgICAgICAgaWYgc3RhY2tUb3AoKVxuICAgICAgICAgICAgICAgICAgICBbc3RhY2tUYWcsIHN0YWNrSWR4XSA9IHN0YWNrVG9wKClcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YWNrVGFnIGlzICd7JyBvciBzdGFja1RhZyBpcyAnSU5ERU5UJyBhbmQgQHRhZyhzdGFja0lkeCAtIDEpIGlzICd7JykgYW5kXG4gICAgICAgICAgICAgICAgICAgICAgICAgKHN0YXJ0c0xpbmUgb3IgQHRhZyhzIC0gMSkgaXMgJywnIG9yIEB0YWcocyAtIDEpIGlzICd7JylcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmb3J3YXJkKDEpXG5cbiAgICAgICAgICAgICAgICBzdGFydEltcGxpY2l0T2JqZWN0KHMsICEhc3RhcnRzTGluZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZm9yd2FyZCgyKVxuXG4gICAgICAgICAgICAjIEVuZCBpbXBsaWNpdCBjYWxscyB3aGVuIGNoYWluaW5nIG1ldGhvZCBjYWxsc1xuICAgICAgICAgICAgIyBsaWtlIGUuZy46XG4gICAgICAgICAgICAjXG4gICAgICAgICAgICAjICAgICAgICAgICBmIC0+XG4gICAgICAgICAgICAjICAgICAgICAgICAgICAgYVxuICAgICAgICAgICAgIyAgICAgICAgICAgLmcgYiwgLT5cbiAgICAgICAgICAgICMgICAgICAgICAgICAgICBjXG4gICAgICAgICAgICAjICAgICAgICAgICAuaCBhXG4gICAgICAgICAgICAjXG4gICAgICAgICAgICAjIGFuZCBhbHNvXG4gICAgICAgICAgICAjXG4gICAgICAgICAgICAjICAgICAgICAgICBmIGFcbiAgICAgICAgICAgICMgICAgICAgICAgIC5nIGJcbiAgICAgICAgICAgICMgICAgICAgICAgIC5oIGFcblxuICAgICAgICAgICAgIyBNYXJrIGFsbCBlbmNsb3Npbmcgb2JqZWN0cyBhcyBub3Qgc2FtZUxpbmVcbiAgICAgICAgICAgIGlmIHRhZyBpbiBMSU5FQlJFQUtTXG4gICAgICAgICAgICAgICAgZm9yIHN0YWNrSXRlbSBpbiBzdGFjayBieSAtMVxuICAgICAgICAgICAgICAgICAgICBicmVhayB1bmxlc3MgaXNJbXBsaWNpdCBzdGFja0l0ZW1cbiAgICAgICAgICAgICAgICAgICAgc3RhY2tJdGVtWzJdLnNhbWVMaW5lID0gbm8gaWYgaXNJbXBsaWNpdE9iamVjdCBzdGFja0l0ZW1cblxuICAgICAgICAgICAgbmV3TGluZSA9IHByZXZUYWcgaXMgJ09VVERFTlQnIG9yIHByZXZUb2tlbi5uZXdMaW5lXG4gICAgICAgICAgICBpZiB0YWcgaW4gSU1QTElDSVRfRU5EIG9yIHRhZyBpbiBDQUxMX0NMT1NFUlMgYW5kIG5ld0xpbmVcbiAgICAgICAgICAgICAgICB3aGlsZSBpbkltcGxpY2l0KClcbiAgICAgICAgICAgICAgICAgICAgW3N0YWNrVGFnLCBzdGFja0lkeCwge3NhbWVMaW5lLCBzdGFydHNMaW5lfV0gPSBzdGFja1RvcCgpXG4gICAgICAgICAgICAgICAgICAgICMgQ2xvc2UgaW1wbGljaXQgY2FsbHMgd2hlbiByZWFjaGVkIGVuZCBvZiBhcmd1bWVudCBsaXN0XG4gICAgICAgICAgICAgICAgICAgIGlmIGluSW1wbGljaXRDYWxsKCkgYW5kIHByZXZUYWcgIT0gJywnXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmRJbXBsaWNpdENhbGwoKVxuICAgICAgICAgICAgICAgICAgICAjIENsb3NlIGltcGxpY2l0IG9iamVjdHMgc3VjaCBhczpcbiAgICAgICAgICAgICAgICAgICAgIyByZXR1cm4gYTogMSwgYjogMiB1bmxlc3MgdHJ1ZVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIGluSW1wbGljaXRPYmplY3QoKSBhbmQgbm90IEBpbnNpZGVGb3JEZWNsYXJhdGlvbiBhbmQgc2FtZUxpbmUgYW5kXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWcgIT0gJ1RFUk1JTkFUT1InIGFuZCBwcmV2VGFnICE9ICc6J1xuICAgICAgICAgICAgICAgICAgICAgICAgZW5kSW1wbGljaXRPYmplY3QoKVxuICAgICAgICAgICAgICAgICAgICAjIENsb3NlIGltcGxpY2l0IG9iamVjdHMgd2hlbiBhdCBlbmQgb2YgbGluZSwgbGluZSBkaWRuJ3QgZW5kIHdpdGggYSBjb21tYVxuICAgICAgICAgICAgICAgICAgICAjIGFuZCB0aGUgaW1wbGljaXQgb2JqZWN0IGRpZG4ndCBzdGFydCB0aGUgbGluZSBvciB0aGUgbmV4dCBsaW5lIGRvZXNuJ3QgbG9vayBsaWtlXG4gICAgICAgICAgICAgICAgICAgICMgdGhlIGNvbnRpbnVhdGlvbiBvZiBhbiBvYmplY3QuXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgaW5JbXBsaWNpdE9iamVjdCgpIGFuZCB0YWcgaXMgJ1RFUk1JTkFUT1InIGFuZCBwcmV2VGFnICE9ICcsJyBhbmRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdCAoc3RhcnRzTGluZSBhbmQgQGxvb2tzT2JqZWN0aXNoKGkgKyAxKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmb3J3YXJkIDEgaWYgbmV4dFRhZyBpcyAnSEVSRUNPTU1FTlQnXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmRJbXBsaWNpdE9iamVjdCgpXG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgICAgICMgQ2xvc2UgaW1wbGljaXQgb2JqZWN0IGlmIGNvbW1hIGlzIHRoZSBsYXN0IGNoYXJhY3RlclxuICAgICAgICAgICAgIyBhbmQgd2hhdCBjb21lcyBhZnRlciBkb2Vzbid0IGxvb2sgbGlrZSBpdCBiZWxvbmdzLlxuICAgICAgICAgICAgIyBUaGlzIGlzIHVzZWQgZm9yIHRyYWlsaW5nIGNvbW1hcyBhbmQgY2FsbHMsIGxpa2U6XG4gICAgICAgICAgICAjXG4gICAgICAgICAgICAjICAgICAgICAgICB4ID1cbiAgICAgICAgICAgICMgICAgICAgICAgICAgICAgICAgYTogYixcbiAgICAgICAgICAgICMgICAgICAgICAgICAgICAgICAgYzogZCxcbiAgICAgICAgICAgICMgICAgICAgICAgIGUgPSAyXG4gICAgICAgICAgICAjXG4gICAgICAgICAgICAjIGFuZFxuICAgICAgICAgICAgI1xuICAgICAgICAgICAgIyAgICAgICAgICAgZiBhLCBiOiBjLCBkOiBlLCBmLCBnOiBoOiBpLCBqXG4gICAgICAgICAgICAjXG4gICAgICAgICAgICBpZiB0YWcgaXMgJywnIGFuZCBub3QgQGxvb2tzT2JqZWN0aXNoKGkgKyAxKSBhbmQgaW5JbXBsaWNpdE9iamVjdCgpIGFuZFxuICAgICAgICAgICAgICAgICBub3QgQGluc2lkZUZvckRlY2xhcmF0aW9uIGFuZFxuICAgICAgICAgICAgICAgICAobmV4dFRhZyAhPSAnVEVSTUlOQVRPUicgb3Igbm90IEBsb29rc09iamVjdGlzaChpICsgMikpXG4gICAgICAgICAgICAgICAgIyBXaGVuIG5leHRUYWcgaXMgT1VUREVOVCB0aGUgY29tbWEgaXMgaW5zaWduaWZpY2FudCBhbmRcbiAgICAgICAgICAgICAgICAjIHNob3VsZCBqdXN0IGJlIGlnbm9yZWQgc28gZW1iZWQgaXQgaW4gdGhlIGltcGxpY2l0IG9iamVjdC5cbiAgICAgICAgICAgICAgICAjXG4gICAgICAgICAgICAgICAgIyBXaGVuIGl0IGlzbid0IHRoZSBjb21tYSBnbyBvbiB0byBwbGF5IGEgcm9sZSBpbiBhIGNhbGwgb3JcbiAgICAgICAgICAgICAgICAjIGFycmF5IGZ1cnRoZXIgdXAgdGhlIHN0YWNrLCBzbyBnaXZlIGl0IGEgY2hhbmNlLlxuXG4gICAgICAgICAgICAgICAgb2Zmc2V0ID0gaWYgbmV4dFRhZyBpcyAnT1VUREVOVCcgdGhlbiAxIGVsc2UgMFxuICAgICAgICAgICAgICAgIHdoaWxlIGluSW1wbGljaXRPYmplY3QoKVxuICAgICAgICAgICAgICAgICAgICBlbmRJbXBsaWNpdE9iamVjdCBpICsgb2Zmc2V0XG4gICAgICAgICAgICByZXR1cm4gZm9yd2FyZCgxKVxuXG4gICAgIyAgMDAwMDAwMCAgIDAwMDAwMDAgICAwMDAgICAwMDAgIDAwMDAwMDAwICAwMDAgICAwMDAwMDAwICAgMDAwMDAwMDAgICAgMDAwMDAwMCAgIDAwMDAwMDAwICAgIDAwMDAwMDAgICAwMCAgICAgMDAgICAwMDAwMDAwICBcbiAgICAjIDAwMCAgICAgICAwMDAgICAwMDAgIDAwMDAgIDAwMCAgMDAwICAgICAgIDAwMCAgMDAwICAgICAgICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwICAgICAgIFxuICAgICMgMDAwICAgICAgIDAwMCAgIDAwMCAgMDAwIDAgMDAwICAwMDAwMDAgICAgMDAwICAwMDAgIDAwMDAgIDAwMDAwMDAwICAgMDAwMDAwMDAwICAwMDAwMDAwICAgIDAwMDAwMDAwMCAgMDAwMDAwMDAwICAwMDAwMDAwICAgXG4gICAgIyAwMDAgICAgICAgMDAwICAgMDAwICAwMDAgIDAwMDAgIDAwMCAgICAgICAwMDAgIDAwMCAgIDAwMCAgMDAwICAgICAgICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICAwMDAgMCAwMDAgICAgICAgMDAwICBcbiAgICAjICAwMDAwMDAwICAgMDAwMDAwMCAgIDAwMCAgIDAwMCAgMDAwICAgICAgIDAwMCAgIDAwMDAwMDAgICAwMDAgICAgICAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwMDAwMCAgIFxuICAgIFxuICAgIGNvbmZpZ1BhcmFtZXRlcnM6IC0+XG4gICAgICAgIFxuICAgICAgICBkaWN0UGFyYW1TdGFydCA9IDBcbiAgICAgICAgZGljdFBhcmFtRW5kICAgPSAwXG4gICAgICAgIHN0YWNrQ291bnQgICAgID0gMFxuICAgICAgICBcbiAgICAgICAgaXNJbnNpZGUgPSAtPiBkaWN0UGFyYW1TdGFydCBhbmQgbm90IHN0YWNrQ291bnRcbiAgICAgICAgXG4gICAgICAgIEBzY2FuVG9rZW5zICh0b2tlbiwgaSwgdG9rZW5zKSAtPlxuXG4gICAgICAgICAgICBbdGFnXSAgICAgPSB0b2tlblxuICAgICAgICAgICAgW3ByZXZUYWddID0gcHJldlRva2VuID0gaWYgaSA+IDAgdGhlbiB0b2tlbnNbaSAtIDFdIGVsc2UgW11cbiAgICAgICAgICAgIFtuZXh0VGFnXSA9IGlmIGkgPCB0b2tlbnMubGVuZ3RoIC0gMSB0aGVuIHRva2Vuc1tpICsgMV0gZWxzZSBbXVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiB0YWcgaXMgJ3snXG4gICAgICAgICAgICAgICAgaWYgcHJldlRhZyBpcyAnUEFSQU1fU1RBUlQnIFxuICAgICAgICAgICAgICAgICAgICBpZiBub3QgZGljdFBhcmFtU3RhcnRcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpY3RQYXJhbVN0YXJ0ID0gaVxuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFja0NvdW50KytcbiAgICAgICAgICAgICAgICBlbHNlIGlmIGRpY3RQYXJhbVN0YXJ0XG4gICAgICAgICAgICAgICAgICAgIHN0YWNrQ291bnQrK1xuICAgICAgICAgICAgZWxzZSBpZiB0YWcgaXMgJ30nXG4gICAgICAgICAgICAgICAgaWYgZGljdFBhcmFtU3RhcnQgXG4gICAgICAgICAgICAgICAgICAgIGlmIG5vdCBzdGFja0NvdW50XG4gICAgICAgICAgICAgICAgICAgICAgICBkaWN0UGFyYW1FbmQgPSBpXG4gICAgICAgICAgICAgICAgICAgICAgICBkaWN0UGFyYW1TdGFydCA9IDBcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2tDb3VudC0tXG4gICAgICAgICAgICBlbHNlIFxuICAgICAgICAgICAgICAgIGlmIGlzSW5zaWRlKClcbiAgICAgICAgICAgICAgICAgICAgaWYgdGFnID09ICc6J1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgbmV4dFRhZyBub3QgaW4gWydJREVOVElGSUVSJywgJ0AnXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbCA9IHRva2Vuc1tpLTFdWzFdICMgY29weSB2YWx1ZSBmcm9tIHByb3BlcnR5IHRva2VuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgQHRhZyhpLTIpID09ICdAJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbdGhpc1Rva2VuXSA9IHRva2Vucy5zcGxpY2UgaS0yLCAxICMgcHVsbCB0aGUgQCBvdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW5zLnNwbGljZSBpLCAgIDAsIHRoaXNUb2tlbiAgICAjIGluc2VydCBpdCBhZnRlciA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRva2Vucy5zcGxpY2UgaSsxLCAwLCBAZ2VuZXJhdGUgJz0nLCAnPSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW5zLnNwbGljZSBpKzEsIDAsIEBnZW5lcmF0ZSAnUFJPUEVSVFknLCB2YWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRva2Vucy5zcGxpY2UgaSsxLCAwLCBAZ2VuZXJhdGUgJz0nLCAnPSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW5zLnNwbGljZSBpKzEsIDAsIEBnZW5lcmF0ZSAnSURFTlRJRklFUicsIHZhbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAyXG4gICAgICAgICAgICAgICAgICAgIGlmIHRhZyA9PSAnPSdcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIG5leHRUYWcgaW4gWycsJywgJ30nXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRva2Vucy5zcGxpY2UgaSsxLCAwLCBAZ2VuZXJhdGUgJ05VTEwnLCAnbnVsbCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMlxuICAgICAgICAgICAgMVxuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgIyAwMDAgICAgICAgMDAwMDAwMCAgICAwMDAwMDAwICAgMDAwMDAwMCAgIDAwMDAwMDAwMCAgMDAwICAgMDAwMDAwMCAgIDAwMCAgIDAwMCAgXG4gICAgIyAwMDAgICAgICAwMDAgICAwMDAgIDAwMCAgICAgICAwMDAgICAwMDAgICAgIDAwMCAgICAgMDAwICAwMDAgICAwMDAgIDAwMDAgIDAwMCAgXG4gICAgIyAwMDAgICAgICAwMDAgICAwMDAgIDAwMCAgICAgICAwMDAwMDAwMDAgICAgIDAwMCAgICAgMDAwICAwMDAgICAwMDAgIDAwMCAwIDAwMCAgXG4gICAgIyAwMDAgICAgICAwMDAgICAwMDAgIDAwMCAgICAgICAwMDAgICAwMDAgICAgIDAwMCAgICAgMDAwICAwMDAgICAwMDAgIDAwMCAgMDAwMCAgXG4gICAgIyAwMDAwMDAwICAgMDAwMDAwMCAgICAwMDAwMDAwICAwMDAgICAwMDAgICAgIDAwMCAgICAgMDAwICAgMDAwMDAwMCAgIDAwMCAgIDAwMCAgXG4gICAgXG4gICAgIyBBZGQgbG9jYXRpb24gZGF0YSB0byBhbGwgdG9rZW5zIGdlbmVyYXRlZCBieSB0aGUgcmV3cml0ZXIuXG4gICAgXG4gICAgYWRkTG9jYXRpb25EYXRhVG9HZW5lcmF0ZWRUb2tlbnM6IC0+XG4gICAgICAgIEBzY2FuVG9rZW5zICh0b2tlbiwgaSwgdG9rZW5zKSAtPlxuICAgICAgICAgICAgcmV0dXJuIDEgaWYgdG9rZW5bMl1cbiAgICAgICAgICAgIHJldHVybiAxIHVubGVzcyB0b2tlbi5nZW5lcmF0ZWQgb3IgdG9rZW4uZXhwbGljaXRcbiAgICAgICAgICAgIGlmIHRva2VuWzBdIGlzICd7JyBhbmQgbmV4dExvY2F0aW9uPXRva2Vuc1tpICsgMV0/WzJdXG4gICAgICAgICAgICAgICAge2ZpcnN0X2xpbmU6IGxpbmUsIGZpcnN0X2NvbHVtbjogY29sdW1ufSA9IG5leHRMb2NhdGlvblxuICAgICAgICAgICAgZWxzZSBpZiBwcmV2TG9jYXRpb24gPSB0b2tlbnNbaSAtIDFdP1syXVxuICAgICAgICAgICAgICAgIHtsYXN0X2xpbmU6IGxpbmUsIGxhc3RfY29sdW1uOiBjb2x1bW59ID0gcHJldkxvY2F0aW9uXG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgbGluZSA9IGNvbHVtbiA9IDBcbiAgICAgICAgICAgIHRva2VuWzJdID1cbiAgICAgICAgICAgICAgICBmaXJzdF9saW5lOiAgIGxpbmVcbiAgICAgICAgICAgICAgICBmaXJzdF9jb2x1bW46IGNvbHVtblxuICAgICAgICAgICAgICAgIGxhc3RfbGluZTogICAgbGluZVxuICAgICAgICAgICAgICAgIGxhc3RfY29sdW1uOiAgY29sdW1uXG4gICAgICAgICAgICByZXR1cm4gMVxuXG4gICAgIyBPVVRERU5UIHRva2VucyBzaG91bGQgYWx3YXlzIGJlIHBvc2l0aW9uZWQgYXQgdGhlIGxhc3QgY2hhcmFjdGVyIG9mIHRoZVxuICAgICMgcHJldmlvdXMgdG9rZW4sIHNvIHRoYXQgQVNUIG5vZGVzIGVuZGluZyBpbiBhbiBPVVRERU5UIHRva2VuIGVuZCB1cCB3aXRoIGFcbiAgICAjIGxvY2F0aW9uIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGxhc3QgXCJyZWFsXCIgdG9rZW4gdW5kZXIgdGhlIG5vZGUuXG4gICAgZml4T3V0ZGVudExvY2F0aW9uRGF0YTogLT5cbiAgICAgICAgQHNjYW5Ub2tlbnMgKHRva2VuLCBpLCB0b2tlbnMpIC0+XG4gICAgICAgICAgICByZXR1cm4gMSB1bmxlc3MgdG9rZW5bMF0gaXMgJ09VVERFTlQnIG9yXG4gICAgICAgICAgICAgICAgKHRva2VuLmdlbmVyYXRlZCBhbmQgdG9rZW5bMF0gaXMgJ0NBTExfRU5EJykgb3JcbiAgICAgICAgICAgICAgICAodG9rZW4uZ2VuZXJhdGVkIGFuZCB0b2tlblswXSBpcyAnfScpXG4gICAgICAgICAgICBwcmV2TG9jYXRpb25EYXRhID0gdG9rZW5zW2kgLSAxXVsyXVxuICAgICAgICAgICAgdG9rZW5bMl0gPVxuICAgICAgICAgICAgICAgIGZpcnN0X2xpbmU6ICAgcHJldkxvY2F0aW9uRGF0YS5sYXN0X2xpbmVcbiAgICAgICAgICAgICAgICBmaXJzdF9jb2x1bW46IHByZXZMb2NhdGlvbkRhdGEubGFzdF9jb2x1bW5cbiAgICAgICAgICAgICAgICBsYXN0X2xpbmU6ICAgIHByZXZMb2NhdGlvbkRhdGEubGFzdF9saW5lXG4gICAgICAgICAgICAgICAgbGFzdF9jb2x1bW46ICBwcmV2TG9jYXRpb25EYXRhLmxhc3RfY29sdW1uXG4gICAgICAgICAgICByZXR1cm4gMVxuXG4gICAgIyAwMDAgICAwMDAgICAwMDAwMDAwICAgMDAwMDAwMDAgICAwMCAgICAgMDAgICAwMDAwMDAwICAgMDAwICAgICAgMDAwICAwMDAwMDAwICAwMDAwMDAwMCAgXG4gICAgIyAwMDAwICAwMDAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwICAgICAgMDAwICAgICAwMDAgICAwMDAgICAgICAgXG4gICAgIyAwMDAgMCAwMDAgIDAwMCAgIDAwMCAgMDAwMDAwMCAgICAwMDAwMDAwMDAgIDAwMDAwMDAwMCAgMDAwICAgICAgMDAwICAgIDAwMCAgICAwMDAwMDAwICAgXG4gICAgIyAwMDAgIDAwMDAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICAwMDAgMCAwMDAgIDAwMCAgIDAwMCAgMDAwICAgICAgMDAwICAgMDAwICAgICAwMDAgICAgICAgXG4gICAgIyAwMDAgICAwMDAgICAwMDAwMDAwICAgMDAwICAgMDAwICAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwMDAwMCAgMDAwICAwMDAwMDAwICAwMDAwMDAwMCAgXG4gICAgXG4gICAgIyBCZWNhdXNlIG91ciBncmFtbWFyIGlzIExBTFIoMSksIGl0IGNhbid0IGhhbmRsZSBzb21lIHNpbmdsZS1saW5lXG4gICAgIyBleHByZXNzaW9ucyB0aGF0IGxhY2sgZW5kaW5nIGRlbGltaXRlcnMuIFRoZSAqKlJld3JpdGVyKiogYWRkcyB0aGUgaW1wbGljaXRcbiAgICAjIGJsb2Nrcywgc28gaXQgZG9lc24ndCBuZWVkIHRvLiBUbyBrZWVwIHRoZSBncmFtbWFyIGNsZWFuIGFuZCB0aWR5LCB0cmFpbGluZ1xuICAgICMgbmV3bGluZXMgd2l0aGluIGV4cHJlc3Npb25zIGFyZSByZW1vdmVkIGFuZCB0aGUgaW5kZW50YXRpb24gdG9rZW5zIG9mIGVtcHR5XG4gICAgIyBibG9ja3MgYXJlIGFkZGVkLlxuICAgIFxuICAgIG5vcm1hbGl6ZUxpbmVzOiAtPlxuICAgICAgICBzdGFydGVyID0gaW5kZW50ID0gb3V0ZGVudCA9IG51bGxcblxuICAgICAgICBjb25kaXRpb24gPSAodG9rZW4sIGkpIC0+XG4gICAgICAgICAgICB0b2tlblsxXSAhPSAnOycgYW5kIHRva2VuWzBdIGluIFNJTkdMRV9DTE9TRVJTIGFuZFxuICAgICAgICAgICAgbm90ICh0b2tlblswXSBpcyAnVEVSTUlOQVRPUicgYW5kIEB0YWcoaSArIDEpIGluIEVYUFJFU1NJT05fQ0xPU0UpIGFuZFxuICAgICAgICAgICAgbm90ICh0b2tlblswXSBpcyAnRUxTRScgYW5kIHN0YXJ0ZXIgIT0gJ1RIRU4nKSBhbmRcbiAgICAgICAgICAgIG5vdCAodG9rZW5bMF0gaW4gWydDQVRDSCcsICdGSU5BTExZJ10gYW5kIHN0YXJ0ZXIgaW4gWyctPicsICc9PiddKSBvclxuICAgICAgICAgICAgdG9rZW5bMF0gaW4gQ0FMTF9DTE9TRVJTIGFuZFxuICAgICAgICAgICAgKEB0b2tlbnNbaSAtIDFdLm5ld0xpbmUgb3IgQHRva2Vuc1tpIC0gMV1bMF0gaXMgJ09VVERFTlQnKVxuXG4gICAgICAgIGFjdGlvbiA9ICh0b2tlbiwgaSkgLT5cbiAgICAgICAgICAgIEB0b2tlbnMuc3BsaWNlIChpZiBAdGFnKGkgLSAxKSBpcyAnLCcgdGhlbiBpIC0gMSBlbHNlIGkpLCAwLCBvdXRkZW50XG5cbiAgICAgICAgQHNjYW5Ub2tlbnMgKHRva2VuLCBpLCB0b2tlbnMpIC0+XG4gICAgICAgICAgICBbdGFnXSA9IHRva2VuXG4gICAgICAgICAgICBpZiB0YWcgaXMgJ1RFUk1JTkFUT1InXG4gICAgICAgICAgICAgICAgaWYgQHRhZyhpICsgMSkgaXMgJ0VMU0UnIGFuZCBAdGFnKGkgLSAxKSAhPSAnT1VUREVOVCdcbiAgICAgICAgICAgICAgICAgICAgdG9rZW5zLnNwbGljZSBpLCAxLCBAaW5kZW50YXRpb24oKS4uLlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMVxuICAgICAgICAgICAgICAgIGlmIEB0YWcoaSArIDEpIGluIEVYUFJFU1NJT05fQ0xPU0VcbiAgICAgICAgICAgICAgICAgICAgdG9rZW5zLnNwbGljZSBpLCAxXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAwXG4gICAgICAgICAgICBpZiB0YWcgaXMgJ0NBVENIJ1xuICAgICAgICAgICAgICAgIGZvciBqIGluIFsxLi4yXSB3aGVuIEB0YWcoaSArIGopIGluIFsnT1VUREVOVCcsICdURVJNSU5BVE9SJywgJ0ZJTkFMTFknXVxuICAgICAgICAgICAgICAgICAgICB0b2tlbnMuc3BsaWNlIGkgKyBqLCAwLCBAaW5kZW50YXRpb24oKS4uLlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMiArIGpcbiAgICAgICAgICAgIGlmIHRhZyBpbiBTSU5HTEVfTElORVJTIGFuZCBAdGFnKGkgKyAxKSAhPSAnSU5ERU5UJyBhbmRcbiAgICAgICAgICAgICAgICAgbm90ICh0YWcgaXMgJ0VMU0UnIGFuZCBAdGFnKGkgKyAxKSBpcyAnSUYnKVxuICAgICAgICAgICAgICAgIHN0YXJ0ZXIgPSB0YWdcbiAgICAgICAgICAgICAgICBbaW5kZW50LCBvdXRkZW50XSA9IEBpbmRlbnRhdGlvbiB0b2tlbnNbaV1cbiAgICAgICAgICAgICAgICBpbmRlbnQuZnJvbVRoZW4gICAgID0gdHJ1ZSBpZiBzdGFydGVyIGlzICdUSEVOJ1xuICAgICAgICAgICAgICAgIHRva2Vucy5zcGxpY2UgaSArIDEsIDAsIGluZGVudFxuICAgICAgICAgICAgICAgIEBkZXRlY3RFbmQgaSArIDIsIGNvbmRpdGlvbiwgYWN0aW9uXG4gICAgICAgICAgICAgICAgdG9rZW5zLnNwbGljZSBpLCAxIGlmIHRhZyBpcyAnVEhFTidcbiAgICAgICAgICAgICAgICByZXR1cm4gMVxuICAgICAgICAgICAgcmV0dXJuIDFcblxuICAgICMgMDAwMDAwMDAgICAgMDAwMDAwMCAgICAwMDAwMDAwICAwMDAwMDAwMDAgIDAwMDAwMDAwICAwMDAgIDAwMCAgIDAwMCAgXG4gICAgIyAwMDAgICAwMDAgIDAwMCAgIDAwMCAgMDAwICAgICAgICAgIDAwMCAgICAgMDAwICAgICAgIDAwMCAgIDAwMCAwMDAgICBcbiAgICAjIDAwMDAwMDAwICAgMDAwICAgMDAwICAwMDAwMDAwICAgICAgMDAwICAgICAwMDAwMDAgICAgMDAwICAgIDAwMDAwICAgIFxuICAgICMgMDAwICAgICAgICAwMDAgICAwMDAgICAgICAgMDAwICAgICAwMDAgICAgIDAwMCAgICAgICAwMDAgICAwMDAgMDAwICAgXG4gICAgIyAwMDAgICAgICAgICAwMDAwMDAwICAgMDAwMDAwMCAgICAgIDAwMCAgICAgMDAwICAgICAgIDAwMCAgMDAwICAgMDAwICBcbiAgICBcbiAgICAjIFRhZyBwb3N0Zml4IGNvbmRpdGlvbmFscyBhcyBzdWNoLCBzbyB0aGF0IHdlIGNhbiBwYXJzZSB0aGVtIHdpdGggYVxuICAgICMgZGlmZmVyZW50IHByZWNlZGVuY2UuXG4gICAgXG4gICAgdGFnUG9zdGZpeENvbmRpdGlvbmFsczogLT5cblxuICAgICAgICBvcmlnaW5hbCA9IG51bGxcblxuICAgICAgICBjb25kaXRpb24gPSAodG9rZW4sIGkpIC0+XG4gICAgICAgICAgICBbdGFnXSA9IHRva2VuXG4gICAgICAgICAgICBbcHJldlRhZ10gPSBAdG9rZW5zW2kgLSAxXVxuICAgICAgICAgICAgdGFnIGlzICdURVJNSU5BVE9SJyBvciAodGFnIGlzICdJTkRFTlQnIGFuZCBwcmV2VGFnIG5vdCBpbiBTSU5HTEVfTElORVJTKVxuXG4gICAgICAgIGFjdGlvbiA9ICh0b2tlbiwgaSkgLT5cbiAgICAgICAgICAgIGlmIHRva2VuWzBdICE9ICdJTkRFTlQnIG9yICh0b2tlbi5nZW5lcmF0ZWQgYW5kIG5vdCB0b2tlbi5mcm9tVGhlbilcbiAgICAgICAgICAgICAgICBvcmlnaW5hbFswXSA9ICdQT1NUXycgKyBvcmlnaW5hbFswXVxuXG4gICAgICAgIEBzY2FuVG9rZW5zICh0b2tlbiwgaSkgLT5cbiAgICAgICAgICAgIHJldHVybiAxIHVubGVzcyB0b2tlblswXSBpcyAnSUYnXG4gICAgICAgICAgICBvcmlnaW5hbCA9IHRva2VuXG4gICAgICAgICAgICBAZGV0ZWN0RW5kIGkgKyAxLCBjb25kaXRpb24sIGFjdGlvblxuICAgICAgICAgICAgcmV0dXJuIDFcblxuICAgICMgR2VuZXJhdGUgdGhlIGluZGVudGF0aW9uIHRva2VucywgYmFzZWQgb24gYW5vdGhlciB0b2tlbiBvbiB0aGUgc2FtZSBsaW5lLlxuICAgIFxuICAgIGluZGVudGF0aW9uOiAob3JpZ2luKSAtPlxuICAgICAgICBcbiAgICAgICAgaW5kZW50ICA9IFsnSU5ERU5UJywgNF1cbiAgICAgICAgb3V0ZGVudCA9IFsnT1VUREVOVCcsIDRdXG4gICAgICAgIGlmIG9yaWdpblxuICAgICAgICAgICAgaW5kZW50LmdlbmVyYXRlZCA9IG91dGRlbnQuZ2VuZXJhdGVkID0geWVzXG4gICAgICAgICAgICBpbmRlbnQub3JpZ2luID0gb3V0ZGVudC5vcmlnaW4gPSBvcmlnaW5cbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgaW5kZW50LmV4cGxpY2l0ID0gb3V0ZGVudC5leHBsaWNpdCA9IHllc1xuICAgICAgICBbaW5kZW50LCBvdXRkZW50XVxuXG4gICAgIyBDcmVhdGUgYSBnZW5lcmF0ZWQgdG9rZW46IG9uZSB0aGF0IGV4aXN0cyBkdWUgdG8gYSB1c2Ugb2YgaW1wbGljaXQgc3ludGF4LlxuICAgIFxuICAgIEBnZW5lcmF0ZTogKHRhZywgdmFsdWUsIG9yaWdpbikgLT5cbiAgICAgICAgdG9rID0gW3RhZywgdmFsdWVdXG4gICAgICAgIHRvay5nZW5lcmF0ZWQgPSB5ZXNcbiAgICAgICAgdG9rLm9yaWdpbiA9IG9yaWdpbiBpZiBvcmlnaW5cbiAgICAgICAgdG9rXG4gICAgICAgIFxuICAgIGdlbmVyYXRlOiBSZXdyaXRlci5nZW5lcmF0ZVxuXG4gICAgdGFnOiAoaSkgLT4gQHRva2Vuc1tpXT9bMF0gIyBMb29rIHVwIGEgdGFnIGJ5IHRva2VuIGluZGV4LlxuXG4jICAwMDAwMDAwICAgMDAwMDAwMCAgIDAwMCAgIDAwMCAgIDAwMDAwMDAgIDAwMDAwMDAwMCAgIDAwMDAwMDAgICAwMDAgICAwMDAgIDAwMDAwMDAwMCAgIDAwMDAwMDAgIFxuIyAwMDAgICAgICAgMDAwICAgMDAwICAwMDAwICAwMDAgIDAwMCAgICAgICAgICAwMDAgICAgIDAwMCAgIDAwMCAgMDAwMCAgMDAwICAgICAwMDAgICAgIDAwMCAgICAgICBcbiMgMDAwICAgICAgIDAwMCAgIDAwMCAgMDAwIDAgMDAwICAwMDAwMDAwICAgICAgMDAwICAgICAwMDAwMDAwMDAgIDAwMCAwIDAwMCAgICAgMDAwICAgICAwMDAwMDAwICAgXG4jIDAwMCAgICAgICAwMDAgICAwMDAgIDAwMCAgMDAwMCAgICAgICAwMDAgICAgIDAwMCAgICAgMDAwICAgMDAwICAwMDAgIDAwMDAgICAgIDAwMCAgICAgICAgICAwMDAgIFxuIyAgMDAwMDAwMCAgIDAwMDAwMDAgICAwMDAgICAwMDAgIDAwMDAwMDAgICAgICAwMDAgICAgIDAwMCAgIDAwMCAgMDAwICAgMDAwICAgICAwMDAgICAgIDAwMDAwMDAgICBcblxuIyBMaXN0IG9mIHRoZSB0b2tlbiBwYWlycyB0aGF0IG11c3QgYmUgYmFsYW5jZWQuXG5cbkJBTEFOQ0VEX1BBSVJTID0gW1xuICAgIFsnKCcsICcpJ11cbiAgICBbJ1snLCAnXSddXG4gICAgWyd7JywgJ30nXVxuICAgIFsnSU5ERU5UJywgJ09VVERFTlQnXSxcbiAgICBbJ0NBTExfU1RBUlQnLCAnQ0FMTF9FTkQnXVxuICAgIFsnUEFSQU1fU1RBUlQnLCAnUEFSQU1fRU5EJ11cbiAgICBbJ0lOREVYX1NUQVJUJywgJ0lOREVYX0VORCddXG4gICAgWydTVFJJTkdfU1RBUlQnLCAnU1RSSU5HX0VORCddXG4gICAgWydSRUdFWF9TVEFSVCcsICdSRUdFWF9FTkQnXVxuXVxuXG4jIFRoZSBpbnZlcnNlIG1hcHBpbmdzIG9mIGBCQUxBTkNFRF9QQUlSU2Agd2UncmUgdHJ5aW5nIHRvIGZpeCB1cCwgc28gd2UgY2FuIGxvb2sgdGhpbmdzIHVwIGZyb20gZWl0aGVyIGVuZC5cblxuZXhwb3J0cy5JTlZFUlNFUyA9IElOVkVSU0VTID0ge31cbmV4cG9ydHMuUmV3cml0ZXIgPSBSZXdyaXRlclxuXG4jIFRoZSB0b2tlbnMgdGhhdCBzaWduYWwgdGhlIHN0YXJ0L2VuZCBvZiBhIGJhbGFuY2VkIHBhaXIuXG5FWFBSRVNTSU9OX1NUQVJUID0gW11cbkVYUFJFU1NJT05fRU5EICAgPSBbXVxuXG5mb3IgW2xlZnQsIHJpdGVdIGluIEJBTEFOQ0VEX1BBSVJTXG4gICAgRVhQUkVTU0lPTl9TVEFSVC5wdXNoIElOVkVSU0VTW3JpdGVdID0gbGVmdFxuICAgIEVYUFJFU1NJT05fRU5EICAucHVzaCBJTlZFUlNFU1tsZWZ0XSA9IHJpdGVcblxuIyBUb2tlbnMgdGhhdCBpbmRpY2F0ZSB0aGUgY2xvc2Ugb2YgYSBjbGF1c2Ugb2YgYW4gZXhwcmVzc2lvbi5cbkVYUFJFU1NJT05fQ0xPU0UgPSBbJ0NBVENIJywgJ1RIRU4nLCAnRUxTRScsICdGSU5BTExZJ10uY29uY2F0IEVYUFJFU1NJT05fRU5EXG5cbiMgVG9rZW5zIHRoYXQsIGlmIGZvbGxvd2VkIGJ5IGFuIGBJTVBMSUNJVF9DQUxMYCwgaW5kaWNhdGUgYSBmdW5jdGlvbiBpbnZvY2F0aW9uLlxuSU1QTElDSVRfRlVOQyA9IFsnSURFTlRJRklFUicsICdQUk9QRVJUWScsICdTVVBFUicsICcpJywgJ0NBTExfRU5EJywgJ10nLCAnSU5ERVhfRU5EJywgJ0AnLCAnVEhJUyddXG5cbiMgSWYgcHJlY2VkZWQgYnkgYW4gYElNUExJQ0lUX0ZVTkNgLCBpbmRpY2F0ZXMgYSBmdW5jdGlvbiBpbnZvY2F0aW9uLlxuSU1QTElDSVRfQ0FMTCA9IFtcbiAgICAnSURFTlRJRklFUicsICdQUk9QRVJUWScsICdOVU1CRVInLCAnSU5GSU5JVFknLCAnTkFOJ1xuICAgICdTVFJJTkcnLCAnU1RSSU5HX1NUQVJUJywgJ1JFR0VYJywgJ1JFR0VYX1NUQVJUJywgJ0pTJ1xuICAgICdORVcnLCAnUEFSQU1fU1RBUlQnLCAnQ0xBU1MnLCAnSUYnLCAnVFJZJywgJ1NXSVRDSCcsICdUSElTJ1xuICAgICdVTkRFRklORUQnLCAnTlVMTCcsICdCT09MJ1xuICAgICdVTkFSWScsICdZSUVMRCcsICdVTkFSWV9NQVRIJywgJ1NVUEVSJywgJ1RIUk9XJ1xuICAgICdAJywgJy0+JywgJz0+JywgJ1snLCAnKCcsICd7JywgJy0tJywgJysrJ1xuXVxuXG5JTVBMSUNJVF9VTlNQQUNFRF9DQUxMID0gWycrJywgJy0nXVxuXG4jIFRva2VucyB0aGF0IGFsd2F5cyBtYXJrIHRoZSBlbmQgb2YgYW4gaW1wbGljaXQgY2FsbCBmb3Igc2luZ2xlLWxpbmVycy5cbklNUExJQ0lUX0VORCAgICAgICAgID0gWydQT1NUX0lGJywgJ0ZPUicsICdXSElMRScsICdVTlRJTCcsICdXSEVOJywgJ0JZJyxcbiAgICAnTE9PUCcsICdURVJNSU5BVE9SJ11cblxuIyBTaW5nbGUtbGluZSBmbGF2b3JzIG9mIGJsb2NrIGV4cHJlc3Npb25zIHRoYXQgaGF2ZSB1bmNsb3NlZCBlbmRpbmdzLlxuIyBUaGUgZ3JhbW1hciBjYW4ndCBkaXNhbWJpZ3VhdGUgdGhlbSwgc28gd2UgaW5zZXJ0IHRoZSBpbXBsaWNpdCBpbmRlbnRhdGlvbi5cblNJTkdMRV9MSU5FUlMgICAgICAgID0gWydFTFNFJywgJy0+JywgJz0+JywgJ1RSWScsICdGSU5BTExZJywgJ1RIRU4nXVxuU0lOR0xFX0NMT1NFUlMgICA9IFsnVEVSTUlOQVRPUicsICdDQVRDSCcsICdGSU5BTExZJywgJ0VMU0UnLCAnT1VUREVOVCcsICdMRUFESU5HX1dIRU4nXVxuXG4jIFRva2VucyB0aGF0IGVuZCBhIGxpbmUuXG5MSU5FQlJFQUtTICAgICAgICAgICA9IFsnVEVSTUlOQVRPUicsICdJTkRFTlQnLCAnT1VUREVOVCddXG5cbiMgVG9rZW5zIHRoYXQgY2xvc2Ugb3BlbiBjYWxscyB3aGVuIHRoZXkgZm9sbG93IGEgbmV3bGluZS5cbkNBTExfQ0xPU0VSUyAgICAgICAgID0gWycuJywgJz8uJywgJzo6JywgJz86OiddXG4iXX0=
//# sourceURL=../coffee/rewriter.coffee