// Generated by koffee 0.1.0
(function() {
    var C, D, _, d, eq, f, log,
        extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
        hasProp = {}.hasOwnProperty;

    _ = require('underscore');

    log = function() {
        return console.log;
    };

    eq = function(a, b) {
        if (a !== b) {
            return log("fail: " + a + " != " + b);
        }
    };

    log('test...');

    C = (function() {
        function C(arg) {
            var ref, ref1;
            this.a = (ref = arg.a) != null ? ref : 1, this.b = (ref1 = arg.b) != null ? ref1 : null;
            log({
                a: this.a,
                b: this.b
            });
        }

        return C;

    })();

    D = (function(superClass) {
        extend(D, superClass);

        function D(arg) {
            var ref, ref1;
            this.a = (ref = arg.a) != null ? ref : 3, this.b = (ref1 = arg.b) != null ? ref1 : 4;
            arguments[0] = _.defaults({a:this.a,b:this.b}, arguments[0]); D.__super__.constructor.apply(this, arguments);
        }

        return D;

    })(C);

    f = new C({});

    eq(f.a, 1);

    eq(f.b, null);

    f = new C({
        b: 2
    });

    eq(f.a, 1);

    eq(f.b, 2);

    d = new D({
        a: 8
    });

    eq(d.a, 7);

    eq(d.b, 5);

}).call(this);
